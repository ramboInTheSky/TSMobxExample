{"version":3,"sources":["assets/logo_dark_vertical.svg","components/ErrorBoundary/ErrorBoundary.tsx","constants/theme.ts","components/Grid/Components.tsx","components/Grid/Grid.tsx","components/Header/Components.tsx","components/Header/Header.tsx","components/Layout/Components.tsx","components/Layout/Layout.tsx","components/Search/Components.tsx","components/Search/Search.tsx","components/ErrorMessage/Components.tsx","utils/getErrorCode.ts","utils/toCamelCase.ts","utils/toSnakeCase.ts","utils/toName.ts","stores/APIStore.ts","models/Profile.ts","constants/urls.ts","stores/Profiles.ts","stores/Routing.ts","models/Visit.ts","stores/Visits.ts","stores/index.ts","components/ErrorMessage/ErrorMessage.tsx","components/Breadcrumb/Components.tsx","components/Breadcrumb/Breadcrumb.tsx","components/ArchetypeCard/Components.tsx","components/ArchetypeCard/ArchetypeCard.tsx","components/CardContainer/Components.tsx","components/CardContainer/CardContainer.tsx","containers/DetailPanel/Components.tsx","containers/DetailPanel/DetailPanel.tsx","containers/VisitsPanel/Components.tsx","containers/VisitsPanel/VisitsPanel.tsx","containers/CreateVisitPanel/Components.tsx","containers/CreateVisitPanel/CreateVisitPanel.tsx","containers/ViewVisitPanel/Components.tsx","containers/ViewVisitPanel/ViewVisitPanel.tsx","routes/ProfileDetail/ProfileDetail.tsx","routes/Profiles/Components.tsx","routes/Profiles/Profiles.tsx","routes/VisitDetail/VisitDetail.tsx","containers/ManageTagsPanel/Components.tsx","models/Tag.ts","containers/ManageTagsPanel/ManageTagsPanel.tsx","routes/ManageTags/ManageTags.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","Boundary","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","hasError","inherits","createClass","key","value","error","info","setState","react_default","a","createElement","props","children","React","Component","variables","freeze","columnSize","componentBackground","componentBackgroundClear","spacer","gutter","indentation","lineHeightComponentTitle","headerFontSize","archetypeColor","tagColor","roomColor","primaryColor","visitDateFromColor","visitDateToColor","Wrapper","styled","Paper","_templateObject","Grid","_Component","defaultColDef","api","columnApi","onGridReady","params","sizeColumnsToFit","window","onresize","setTimeout","minWidth","editable","filter","cellStyle","textAlign","sortable","suppressMenu","resizable","GridApi","ColumnApi","_this$props","columnDefs","rowData","onRowClicked","loading","ErrorBoundary_Boundary","className","react_addons_css_transition_group_default","transitionName","transitionAppear","transitionAppearTimeout","transitionEnterTimeout","transitionLeaveTimeout","main","animateRows","suppressCellSelection","rowSelection","reactNext","div","Components_templateObject","Logo","img","_templateObject2","Title","_templateObject3","Menu","IconButton","_templateObject4","version","require","Header","Components_Wrapper","src","logo","alt","aria-label","title","Settings_default","Layout_Components_templateObject","Heading","Components_templateObject2","Content","Components_templateObject3","Layout","Layout_Components_Wrapper","Header_Header","Breadcrumb_Breadcrumb","Container","Search_Components_templateObject","Input","InputBase","Search_Components_templateObject2","Action","Search_Components_templateObject3","Search","clearSelection","onChange","target","_this2","placeholder","elevation","onClick","Close_default","e","Search_default","ErrorMessage_Components_templateObject","getErrorCode","status","message","errorMessage","toCamelCase","obj","rtn","map","_","isEmpty","hasOwnProperty","replace","k","toUpperCase","toSnakeCase","toLowerCase","trim","toName","str","ret","capitalize","s","charAt","slice","Store","_class","uri","url","fresh","initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","isFresh","apiEnded","customMessage","undefined","self","_getList","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","abrupt","axios","get","sent","count","data","t0","stop","_x","_x2","_getDetail","_callee2","item","_context2","_x3","_save","_callee3","id","_context3","put","post","_x4","_x5","_x6","toJS","detail","applyDecoratedDescriptor","prototype","observable","configurable","enumerable","writable","initializer","action","getOwnPropertyDescriptor","Profile","fullName","firstName","lastName","company","mobileNumber","emailAddress","notes","created","type","visits","CreateProfile","EditProfile","urls","profiles","archetypes","sortingFn","b","first","Date","toDate","last","ProfileStore","Profiles_class","_Store","Profiles_descriptor","assertThisInitialized","editing","edit","esm_get","items","profileId","objectSpread","sort","payload","assign","Routing","Routing_class","_RouterStore","Routing_descriptor","Routing_descriptor2","getBreadcrumb","breadcrumb","Routing_descriptor3","rebuildBreadcrumb","temp","index","arr","isUUID","page","route","pages","split","splice","splitThings","push","RouterStore","location","pathname","_this3","CreateVisit","lockGroupNames","fromDate","tags","archetypeIds","VisitStore","Visits_class","Visits_descriptor","Visits_descriptor2","Visits_descriptor3","Visits_descriptor4","Visits_descriptor5","validationError","internalValidationError","archetypesObj","_getArchetypes","primary","secondary","timeout","pollingResult","setInterval","finished","clearInterval","err","_addTag","_callee4","tag","visitId","_context4","success","tagNumber","erroredTag","StoreNames","routing","localStores","stores","ErrorMessage","inject","_dec","ErrorMessage_class","observer","ErrorMessage_Components_Wrapper","react_router_dom","to","store","goToPage","Breadcrumb_Components_templateObject","Breadcrumb","Breadcrumb_dec","Breadcrumb_class","resizeBreadcrumb","_this$store$routing","Breadcrumb_Components_Wrapper","Home_default","i","ArchetypeCard_Components_templateObject","ArchetypeCard_Components_templateObject2","ArchetypeCard_Components_templateObject3","CloseButton","Components_templateObject4","LockGroup","_templateObject5","ArchetypeCard","archetype","removeItemFn","ArchetypeCard_Components_Wrapper","Components_Header","name","Components_Content","MeetingRoom_default","CardContainer_Components_templateObject","CardContainer_Components_templateObject2","CardContainer_Components_templateObject3","CardContainer_Components_templateObject4","CardContainer","CardContainer_Components_Wrapper","CardContainer_Components_Header","style","backgroundColor","CardContainer_Components_Content","Components_LockGroup","VpnKey_default","DetailPanel_Components_templateObject","DetailPanel_Components_templateObject2","Name","DetailPanel_Components_templateObject3","Field","DetailPanel_Components_templateObject4","FieldsContainer","Components_templateObject5","ActionsBar","_templateObject6","ButtonsContainer","_templateObject7","InputContainer","_templateObject8","NotesInputContainer","_templateObject9","TextField","_templateObject10","SingleColumnFieldSet","_templateObject11","TwoColumnsFieldset","_templateObject12","DetailPanel","DetailPanel_dec","DetailPanel_class","toggleEdit","clear","preventDefault","toggleEditing","form","_e$target","defineProperty","cancelEdit","saveOrAddVisit","_this$store$profiles","callback","_this$store$profiles2","DetailPanel_Components_Wrapper","Components_Title","Person_default","Components_Input","multiline","Button_default","variant","KeyboardArrowLeft_default","color","Save_default","Edit_default","Hotel_default","VisitsPanel_Components_templateObject","Entry","VisitsPanel_Components_templateObject2","AccessContainer","VisitsPanel_Components_templateObject3","DatesContainer","VisitsPanel_Components_templateObject4","Dates","span","VisitsPanel_Components_templateObject5","Times","Components_templateObject6","Access","Components_templateObject7","Status","Components_templateObject8","VisitsPanel","_PureComponent","VisitsPanel_Components_Wrapper","visit","opacity","toLocaleDateString","toLocaleTimeString","hour","minute","join","PureComponent","CreateVisitPanel_Components_templateObject","CreateVisitPanel_Components_templateObject2","TitleField","CreateVisitPanel_Components_templateObject3","CreateVisitPanel_Components_templateObject4","ProfileName","CreateVisitPanel_Components_templateObject5","PickersContainer","CreateVisitPanel_Components_templateObject6","DateContainer","CreateVisitPanel_Components_templateObject7","ArchetypesContainer","CreateVisitPanel_Components_templateObject8","Dropdown","Select","Components_templateObject9","SelectedArchetypesContainer","Components_templateObject10","Components_templateObject11","Components_templateObject12","CreateVisitPanel","CreateVisitPanel_dec","CreateVisitPanel_class","handleDateFromChange","from","handleDateToChange","getFutureDate","today","setFullYear","getFullYear","removeArchetype","selectedArchetypes","addArchetype","toConsumableArray","save","addTags","_this$state","saveFn","toISOString","noEndDate","profile","_this$state2","CreateVisitPanel_Components_Wrapper","Components_Container","CreateVisitPanel_Components_Title","KeyboardArrowRight_default","index_es","control","Checkbox_default","checked","label","material_ui_pickers_esm","utils","DateFnsUtils","maxDate","minDate","minutesStep","disabled","indexOf","autoWidth","ArchetypeCard_ArchetypeCard","find","entry","Components_ActionsBar","Components_ButtonsContainer","ViewVisitPanel_Components_templateObject","ViewVisitPanel_Components_templateObject2","ViewVisitPanel_Components_templateObject3","ViewVisitPanel_Components_templateObject4","ViewVisitPanel_Components_templateObject5","ViewVisitPanel_Components_templateObject6","ViewVisitPanel_Components_templateObject7","RoomsContainer","ViewVisitPanel_Components_templateObject8","ViewVisitPanel_Components_templateObject9","TagsContainer","ViewVisitPanel_Components_templateObject10","ViewVisitPanel_Components_templateObject11","ViewVisitPanel_Components_templateObject12","_templateObject13","ViewVisitPanel","ViewVisitPanel_dec","ViewVisitPanel_class","allArchetypes","ViewVisitPanel_Components_Wrapper","ViewVisitPanel_Components_Container","ViewVisitPanel_Components_Title","Components_TitleField","Components_ProfileName","Components_DatesContainer","Components_DateContainer","toDateString","ArrowForward_default","fontSize","CardContainer_CardContainer","Components_ArchetypesContainer","includes","ViewVisitPanel_Components_ActionsBar","ViewVisitPanel_Components_ButtonsContainer","ProfileDetail","ProfileDetail_dec","ProfileDetail_class","_ref","addVisits","getDetail","match","isError","isLoading","Layout_Layout","ErrorMessage_ErrorMessage","react_loader_default","loaded","DetailPanel_DetailPanel","VisitsPanel_VisitsPanel","ActionBar","Profiles_Components_templateObject","SearchWrapper","Profiles_Components_templateObject2","Profiles_Components_templateObject3","Profiles_Components_templateObject4","Profiles_Components_templateObject5","Profiles","Profiles_dec","Profiles_Profiles_class","colDef","headerName","field","width","cellRenderer","row","goToDetail","val","getList","Profiles_Components_Title","react","Search_Search","Components_Action","Add_default","Grid_Grid","VisitDetail","VisitDetail_dec","VisitDetail_class","dateFrom","dateTo","getArchetypes","_this$store$visits","CreateVisitPanel_CreateVisitPanel","ViewVisitPanel_ViewVisitPanel","ManageTagsPanel_Components_templateObject","ManageTagsPanel_Components_templateObject2","ManageTagsPanel_Components_templateObject3","ManageTagsPanel_Components_templateObject4","ManageTagsPanel_Components_templateObject5","AddTagContainer","ManageTagsPanel_Components_templateObject6","ManageTagsPanel_Components_templateObject7","ManageTagsPanel_Components_templateObject8","ManageTagsPanel_Components_templateObject9","ManageTagsPanel_Components_templateObject10","ManageTagsPanel_Components_templateObject11","VisitDateFrom","ManageTagsPanel_Components_templateObject12","VisitDateTo","Components_templateObject13","Tag","ManageTagsPanel","ManageTagsPanel_dec","ManageTagsPanel_class","done","addTag","currentTag","validation","handleChange","clearErrors","isValidationError","ManageTagsPanel_Components_Wrapper","ManageTagsPanel_Components_Container","ManageTagsPanel_Components_Title","ManageTagsPanel_Components_TitleField","ManageTagsPanel_Components_ProfileName","toLocaleString","Components_InputContainer","ManageTagsPanel_Components_Action","ManageTagsPanel_Components_Input","helperText","ManageTagsPanel_Components_ActionsBar","ManageTagsPanel_Components_ButtonsContainer","CheckCircle_default","ManageTags","ManageTags_dec","ManageTags_class","lastUsedTag","_ref2","ManageTagsPanel_ManageTagsPanel","App","browserHistory","mobxSyncedHistory","createBrowserHistory","syncHistoryWithStore","index_module","react_router","history","path","exact","component","Boolean","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.15ae489c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_dark_vertical.544ea78d.svg\";","import React from \"react\"\n\nexport class Boundary extends React.Component {\n  state = { hasError: false }\n\n  componentDidCatch(error: Error, info: any) {\n    this.setState({ hasError: true })\n    //   logErrorToMyService(error, info)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong with this component</h1>\n    }\n    return this.props.children\n  }\n}\n\nexport default Boundary;\n","\nexport const variables = Object.freeze({\n    columnSize: 80,\n    componentBackground: '#ececec',\n    componentBackgroundClear: '#fff',\n    spacer: '2px solid #999',\n    gutter: '1rem',\n    indentation: '0.3rem',\n    lineHeightComponentTitle: '2',\n    headerFontSize: '1.2rem',\n    archetypeColor: '#a4d8f1',\n    tagColor: '#b4dec7',\n    roomColor: '#eff180',\n    primaryColor: '#b53f79',\n    visitDateFromColor: '#999',\n    visitDateToColor: '#999'\n})","import styled from '@emotion/styled'\nimport { variables } from '../../constants/theme'\nimport Paper from '@material-ui/core/Paper';\n\nexport const Wrapper: React.ComponentType<any> = styled(Paper)`\n\theight: ${variables.columnSize - 12 }vh;\n\twidth: ${variables.columnSize - 2 }vw;\n\tmargin: 2vh auto;\n\tpadding: ${variables.gutter};\n`\n","import React, { Component } from 'react'\nimport { AgGridReact, AgGridColumn } from 'ag-grid-react'\nimport 'ag-grid-community/dist/styles/ag-grid.css'\nimport 'ag-grid-community/dist/styles/ag-theme-material.css'\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\n\nimport { Boundary } from '../ErrorBoundary'\nimport { Wrapper } from './Components'\nimport { ColDef, AgGridEvent, GridApi, ColumnApi, RowDoubleClickedEvent, RowNode } from 'ag-grid-community'\n\nexport { RowNode, RowDoubleClickedEvent }\nexport interface columnType {\n\theaderName: string\n\tfield: string\n}\nexport interface ColumnDefinition extends ColDef {}\n\nexport interface GridProps<T> {\n\tcolumnDefs: Array<ColDef>\n\trowData: Array<T>\n\tonRowClicked: (node: RowDoubleClickedEvent) => void\n\tloading: boolean\n}\nexport interface GridState {}\n\nexport class Grid<T> extends Component<GridProps<T>, GridState> {\n\tdefaultColDef: Partial<ColDef>\n\tapi: GridApi\n\tcolumnApi: ColumnApi\n\tconstructor(props: GridProps<T>) {\n\t\tsuper(props)\n\t\tthis.defaultColDef = {\n\t\t\t// set every column width\n\t\t\tminWidth: 100,\n\t\t\t// make every column non-editable\n\t\t\teditable: false,\n\t\t\t// make every column use 'text' filter by default\n\t\t\tfilter: 'agTextColumnFilter',\n\t\t\tcellStyle: { textAlign: 'left' },\n\t\t\tsortable: true,\n\t\t\tsuppressMenu: true,\n\t\t\tresizable: true,\n\t\t}\n\t\tthis.api = new GridApi()\n\t\tthis.columnApi = new ColumnApi()\n\t}\n\n\tonGridReady = (params: AgGridEvent) => {\n\t\tthis.api = params.api\n\t\tthis.columnApi = params.columnApi\n\t\tthis.api.sizeColumnsToFit()\n\t\twindow.onresize = () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.api!.sizeColumnsToFit()\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { columnDefs, rowData, onRowClicked, loading } = this.props\n\t\treturn (\n\t\t\t<Boundary>\n\t\t\t\t<Wrapper className=\"ag-theme-material\">\n\t\t\t\t<ReactCSSTransitionGroup\n\t\t\t\t\t\t\t\ttransitionName=\"fade\"\n\t\t\t\t\t\t\t\ttransitionAppear={true}\n\t\t\t\t\t\t\t\ttransitionAppearTimeout={200}\n\t\t\t\t\t\t\t\ttransitionEnterTimeout={200}\n\t\t\t\t\t\t\t\ttransitionLeaveTimeout={200}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t{!loading && \n\t\t\t\t\t<AgGridReact\n\t\t\t\t\t\tcolumnDefs={columnDefs}\n\t\t\t\t\t\trowData={rowData}\n\t\t\t\t\t\tdefaultColDef={this.defaultColDef}\n\t\t\t\t\t\tonGridReady={this.onGridReady}\n\t\t\t\t\t\tanimateRows\n\t\t\t\t\t\tsuppressCellSelection\n\t\t\t\t\t\trowSelection={'single'}\n\t\t\t\t\t\tonRowClicked={onRowClicked}\n\t\t\t\t\t\treactNext\n\t\t\t\t\t\t// floatingFilter\n\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t</ReactCSSTransitionGroup>\n\t\t\t\t</Wrapper>\n\t\t\t</Boundary>\n\t\t)\n\t}\n}\n","import styled from '@emotion/styled'\nimport IconButton from '@material-ui/core/IconButton'\n\nimport {variables} from '../../constants/theme'\n\nexport const Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tbackground-color: ${variables.componentBackground};\n\tpadding: 0.3rem;\n`\nexport const Logo = styled.img`\n\twidth: 150px;\n\theight: 50px;\n`\n\nexport const Title = styled.div`\n\tfont-size: 2rem;\n\tfont-weight: bold;\n\tmargin: auto;\n`\n\nexport const Menu: React.ComponentType<any> = styled(IconButton)`\n\tmargin-left: 110px !important;\n`\n","import React, { Component } from 'react'\nimport SettingsIcon from '@material-ui/icons/Settings'\n\nimport { Boundary } from '../ErrorBoundary'\nimport logo from '../../assets/logo_dark_vertical.svg'\nimport { Wrapper, Logo, Title, Menu } from './Components'\nconst version = require('../../../package.json').version\n\nexport interface HeaderProps {}\n\nexport interface HeaderState {}\n\nexport class Header extends Component<HeaderProps, HeaderState> {\n\trender() {\n\t\treturn (\n\t\t\t<Boundary>\n\t\t\t\t<Wrapper>\n\t\t\t\t\t<Logo src={logo} alt=\"The Collective\" />\n\t\t\t\t\t<Title>ROOST</Title>\n\t\t\t\t\t<Menu aria-label=\"Settings\" title=\"Settings\">\n\t\t\t\t\t\t<SettingsIcon />\n\t\t\t\t\t</Menu>\n\t\t\t\t\t<span>{version}</span>\n\t\t\t\t</Wrapper>\n\t\t\t</Boundary>\n\t\t)\n\t}\n}\n","import styled from '@emotion/styled'\nimport Paper from '@material-ui/core/Paper'\nimport { variables } from '../../constants/theme'\n\nexport const Wrapper = styled.div`\n\tdisplay: grid;\n\twidth: 100%;\n\t/* text-align: center; */\n\tjustify-items: center;\n\tgrid-row-gap: 2rem;\n`\n\nexport const Heading = styled.div`\n\tdisplay: flex;\n\twidth: ${variables.columnSize}vw;\n\tflex-direction: column;\n\tjustify-content: space-around;\n`\n\nexport const Content = styled.div`\n\tdisplay: flex;\n\twidth: ${variables.columnSize}vw;\n\tflex-direction: column;\n\tjustify-content: space-around;\n\t/* background-color: ${variables.componentBackground}; */\n`","import React from 'react'\n\n\nimport { Boundary } from '../ErrorBoundary'\nimport { Header } from '../Header'\nimport { Wrapper, Heading, Content } from './Components'\nimport { Breadcrumb } from '../'\n\nexport interface LayoutProps {\n\tchildren?: any\n}\n\nexport const Layout = (props: LayoutProps) => \n\t<Boundary>\n\t\t<Wrapper>\n\t\t\t<Heading>\n\t\t\t\t<Header />\n\t\t\t\t<Breadcrumb />\n\t\t\t</Heading>\n\t\t\t<Content>{props.children}</Content>\n\t\t</Wrapper>\n\t</Boundary>\n","import styled from '@emotion/styled'\nimport Paper from '@material-ui/core/Paper'\nimport InputBase from '@material-ui/core/InputBase'\nimport IconButton from '@material-ui/core/IconButton'\n\nexport const Container: React.ComponentType<any> = styled(Paper)`\n\tdisplay: flex;\n\talign-items: center;\n`\n\nexport const Input: React.ComponentType<any> = styled(InputBase)`\n    margin-left: 8;\n    padding-left: 1rem; \n\tflex: 1;\n`\n\nexport const Action: React.ComponentType<any> = styled(IconButton)`padding: 10;`\n","import React from 'react'\nimport SearchIcon from '@material-ui/icons/Search'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport { Boundary } from '../ErrorBoundary'\nimport { Container, Input, Action } from './Components'\n\nexport interface SearchProps {\n\tonChange: (e: any, value?: string) => void\n\tplaceholder?: string\n}\n\nexport interface SearchState {\n\tvalue: string\n}\n\nexport class Search extends React.Component<SearchProps, SearchState> {\n\tconstructor(props: SearchProps) {\n\t\tsuper(props)\n\t}\n\n\tstate: SearchState = { value: '' }\n\n\tclearSelection = () => {\n\t\tconst { onChange } = this.props\n\t\tthis.setState({ value: '' }, () => onChange({ target: { value: '' } }))\n\t}\n\n\trender() {\n\t\tconst { placeholder, onChange } = this.props\n\t\tconst { value } = this.state\n\t\treturn (\n\t\t\t<Boundary>\n\t\t\t\t<Container elevation={1}>\n\t\t\t\t\t{value && (\n\t\t\t\t\t\t<Action aria-label=\"Clear\" onClick={this.clearSelection} title=\"Clear Search\">\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</Action>\n\t\t\t\t\t)}\n\t\t\t\t\t<Input\n\t\t\t\t\t\tplaceholder={placeholder || 'Search: name, company, access, key number'}\n\t\t\t\t\t\tonChange={(e: any) => this.setState({ value: e.target.value })}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Action aria-label=\"Search\" onClick={(e: any) => onChange(e, value)} title=\"Search\">\n\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t</Action>\n\t\t\t\t</Container>\n\t\t\t</Boundary>\n\t\t)\n\t}\n}\n","import styled from '@emotion/styled'\nimport { variables } from '../../constants/theme'\n\nexport const Wrapper = styled.div`\n\tmargin: auto;\n\tborder: 5px solid #d43333;\n\tpadding: 2rem;\n    background-color: ${variables.componentBackgroundClear};\n    margin-bottom: 2.5rem;\n    color: #333;\n    & h3{\n        margin-top:0;\n        color: #d43333;\n    }\n`\n","import { error } from 'util'\n\nexport const getErrorCode = (e: any) => {\n\tif (e.status === 403 || e.status === 401) {\n\t\treturn 'You are not authorised to see this content, if the problem persists contact your Administrator.'\n\t} else if (e.message) {\n\t\treturn e.message\n\t} else if (e.errorMessage) {\n\t\treturn e.errorMessage\n\t} else {\n\t\treturn 'Please try reload the page, if the problem persists contact your Administrator.'\n\t}\n}\n","import _ from 'lodash';\n\nexport const toCamelCase: any = (obj: any) => {\n    let rtn = obj\n    if (typeof obj === 'object') {\n        if (obj instanceof Array) {\n            rtn = obj.map(toCamelCase)\n        }\n        else if (_.isEmpty(obj)) {\n            rtn = null\n        } else {\n            rtn = {}\n            for (let key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    const newKey = key.replace(/(_\\w)/g, k => k[1].toUpperCase())\n                    rtn[newKey] = toCamelCase(obj[key])\n                }\n            }\n        }\n    }\n    return rtn\n}","import _ from 'lodash';\n\nexport const toSnakeCase: any = (obj: any) => {\n    let rtn = obj\n    if (typeof obj === 'object') {\n        if (obj instanceof Array) {\n            rtn = obj.map(toSnakeCase)\n        } \n        else if (_.isEmpty(obj)) {\n            rtn = null\n        }\n        else {\n            rtn = {}\n            for (let key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    const newKey = key.replace(/\\W+/g, '_').replace(/([a-z\\d])([A-Z])/g, '$1_$2').toLowerCase()\n                    rtn[newKey] = obj[key] === '' && obj[key].trim() === '' ? null : toSnakeCase(obj[key])\n                }\n            }\n        }\n    }\n    return rtn\n}","export const toName: any = (str: string) => {\n    const ret = str\n    .replace(/([a-z\\d])([A-Z])/g, '$1' + ' ' + '$2')\n    .replace(/([A-Z]+)([A-Z][a-z\\d]+)/g, '$1' + '$2')\n    return capitalize(ret)\n}\n\nexport const capitalize = (s: string) => {\n    if (typeof s !== 'string') return ''\n    return s.charAt(0).toUpperCase() + s.slice(1)\n  }","import { observable, action, toJS } from 'mobx'\nimport axios from 'axios'\n\nimport { getErrorCode, toSnakeCase, toCamelCase } from '../utils'\n\nexport { observable, action }\n\nexport class Store<T> {\n\tprivate url: string\n\tprivate fresh = false\n\n\t@observable protected data: Array<T> = []\n\n\t@observable protected detail: T | Partial<T> = {}\n\n\t@observable protected count: number = 0\n\n\t@observable protected loading: boolean = false\n\n\t@observable public error?: string = undefined\n\n\tconstructor(uri: string) {\n\t\tthis.url = uri\n\t}\n\t// public API\n\t// public getItems = (): Array<T> => {\n\t// \treturn toJS(this.data) as Array<T>\n\t// }\n\n\tpublic get items(): Array<T> {\n\t\treturn toJS(this.data) as Array<T>\n\t}\n\n\tpublic get item(): T {\n\t\treturn toJS(this.detail) as T\n\t}\n\n\t// public getItem = (): T => {\n\t// \treturn toJS(this.detail) as T\n\t// }\n\n\tpublic get errorMessage(): string {\n\t\treturn this.error as string\n\t}\n\n\tpublic get isLoading(): boolean {\n\t\treturn this.loading\n\t}\n\n\tpublic get isError(): boolean {\n\t\treturn !!this.error\n\t}\n\n\tpublic isFresh = () => this.fresh\n\t// end public API\n\n\tprotected apiEnded = (e?: any, customMessage?: string) => {\n\t\tthis.loading = false\n\t\tthis.error = e ? customMessage || getErrorCode(e) : undefined\n\t\tthis.fresh = true\n\t\tconst self = this\n\t\tsetTimeout(function () {\n\t\t\tself.fresh = false\n\t\t})\n\t}\n\n\t@action\n\tasync getList(url?: string, filter?: string) {\n\t\tif (!this.url && !url) return\n\t\ttry {\n\t\t\tthis.loading = true\n\t\t\tlet res: any\n\t\t\tres = await axios.get(url || this.url + '?filter=' + filter)\n\t\t\tthis.apiEnded()\n\t\t\tthis.count = res.data && res.data.count ? res.data.count : 0\n\t\t\treturn toCamelCase(res.data)\n\t\t} catch (e) {\n\t\t\tthis.apiEnded(e)\n\t\t\tthis.count = 0\n\t\t\treturn []\n\t\t}\n\t}\n\n\t@action\n\tasync getDetail(item: string) {\n\t\ttry {\n\t\t\tthis.loading = true\n\t\t\tlet res: any\n\t\t\tres = await axios.get(`${this.url}/${item}`)\n\t\t\tthis.apiEnded()\n\t\t\treturn toCamelCase(res.data)\n\t\t} catch (e) {\n\t\t\tthis.apiEnded(e)\n\t\t\treturn {}\n\t\t}\n\t}\n\n\t@action\n\tasync save(item: Partial<T>, id?: string, url?: string) {\n\t\ttry {\n\t\t\tthis.loading = true\n\t\t\tlet res: any\n\t\t\tif (id) {\n\t\t\t\tres = await axios.put(`${url || this.url}/${id}`, toSnakeCase(item))\n\t\t\t} else {\n\t\t\t\tres = await axios.post(url || this.url, toSnakeCase(item))\n\t\t\t}\n\t\t\tthis.apiEnded()\n\t\t\treturn toCamelCase(res.data)\n\t\t} catch (e) {\n\t\t\tthis.apiEnded(e)\n\t\t\treturn {}\n\t\t}\n\t}\n}\n","import { Visit } from './Visit'\n\nexport type ProfileType = 'visitor' | 'member'\n\nexport class Profile {\n\tid?: string = undefined\n\tfullName?: string = undefined\n\tfirstName: string = ''\n\tlastName: string = ''\n\tcompany?: string = undefined\n\tmobileNumber?: string = ''\n\temailAddress?: string = ''\n\tnotes?: string = undefined\n\tcreated?: string = undefined\n\ttype?: ProfileType = undefined\n\tvisits?: Array<Visit> = undefined\n}\n\nexport class CreateProfile {\n\tfirstName: string = ''\n\tlastName: string = ''\n\tcompany?: string = undefined\n\tmobileNumber?: string = ''\n\temailAddress?: string = ''\n\tnotes?: string = undefined\n\ttype?: ProfileType = undefined\n}\n\nexport class EditProfile {\n\tid?: string = undefined\n\tfirstName: string = ''\n\tlastName: string = ''\n\tcompany?: string = undefined\n\tmobileNumber?: string = ''\n\temailAddress?: string = ''\n\tnotes?: string = undefined\n\tcreated?: string = undefined\n\ttype?: ProfileType = undefined\n}\n\nexport interface ProfileResponse {\n\tcount: number\n\tfilters: Array<string>\n\titems: Array<Profile>\n}\n","export const urls = Object.freeze({\n\t// profiles: 'https://ie8nqdsxil.execute-api.eu-west-2.amazonaws.com/dev/profile',\n\tprofiles: 'https://csi-dev.thecollective.com/dev/profile',\n\tvisits: 'https://csi-dev.thecollective.com/dev/visit',\n\tarchetypes: 'https://csi-dev.thecollective.com/dev/archetype',\n})\nexport default urls","import { observable, action } from 'mobx'\nimport { Store } from './APIStore'\nimport { Profile, CreateProfile, EditProfile } from '../models/Profile'\nimport urls from '../constants/urls'\nimport { Visit } from '../models/Visit'\n\nconst sortingFn = (a: Visit, b: Visit) => {\n\tconst first = new Date(a.toDate)\n\tconst last = new Date(b.toDate)\n\tif (first > last) return -1\n\tif (last > first) return 1\n\treturn 0\n}\n\nexport class ProfileStore extends Store<Profile> {\n\tconstructor() {\n\t\tsuper(urls.profiles)\n\t}\n\n\t@observable protected edit: boolean = false\n\n\tpublic get editing(){\n\t\treturn this.edit\n\t}\n\t\n\t@action\n\ttoggleEditing(editing?: boolean) {\n\t\tif (editing !== undefined) {\n\t\t\tthis.edit = editing\n\t\t} else this.edit = !this.edit\n\t}\n\n\tasync getList(filter?: string) {\n\t\tconst data = await super.getList(undefined, filter)\n\t\tthis.data =\n\t\t\tdata && data.items && data.items.length\n\t\t\t\t? data.items.map((item: Profile) => {\n\t\t\t\t\t\titem.fullName = item.firstName + ' ' + item.lastName\n\t\t\t\t\t\treturn item\n\t\t\t\t\t})\n\t\t\t\t: []\n\t}\n\n\tasync getDetail(profileId: string) {\n\t\tif (profileId !== 'new') {\n\t\t\tconst data = await super.getDetail(profileId)\n\t\t\tif (data) {\n\t\t\t\tconst item: Profile = { ...data, fullName: `${data.firstName} ${data.lastName}` }\n\t\t\t\tconst sorted = item.visits && item.visits.length ? item.visits.sort(sortingFn) : item\n\t\t\t\tthis.detail = item\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.detail = new Profile()\n\t\t}\n\t\tthis.detail = new Profile()\n\t}\n\n\tasync save(item: Profile, id?: string) {\n\t\tconst payload = Object.assign(id ? new EditProfile() : new CreateProfile(), item)\n\t\tthis.detail = {}\n\t\tconst data = await super.save(payload, id)\n\t\tthis.edit = false\n\t\tthis.detail = data\n\t}\n}\n","import { observable, action, toJS } from 'mobx'\nimport { RouterStore } from 'mobx-react-router'\nimport { isUUID } from 'validator'\n\nexport class Routing extends RouterStore {\n\t@observable protected breadcrumb: Array<{page: string, id?: string}> = []\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.rebuildBreadcrumb()\n\t}\n\n\tsplitThings(temp: Array<string>){\n\t\treturn (temp.map((item: string, index: number, arr: Array<string>) => {\n\t\t\tif(!isUUID(item)){\n\t\t\t\treturn ({page: item, id: (arr[index+1] && isUUID(arr[index+1]) ? arr[index+1] : undefined)} as {page: string, id?: string} )\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn null\n\t\t\t}\n\t\t}).filter(item => item) ) as any \n\t}\n\n\t@action\n\trebuildBreadcrumb = ()=>{\n\t\tconst pathname = location.pathname !== '/' ? location.pathname : ''\n\t\tconst temp = pathname.split('/').splice(1)\n\t\tthis.breadcrumb = this.splitThings(temp)\n\t}\n\n\tgetBreadcrumb = () => {\n\t\treturn toJS(this.breadcrumb)\n\t}\n\n\t@action\n\tresizeBreadcrumb = () => {\n\t\tthis.rebuildBreadcrumb()\n\t}\n\n\t@action\n\tgoToPage(route: string) {\n\t\tif (route !== '/') {\n\t\t\tconst pages = route.split('/').splice(1)\n\t\t\tthis.breadcrumb = this.splitThings(pages)\n\t\t} else {\n\t\t\tthis.breadcrumb = []\n\t\t}\n\t\tthis.push(route)\n\t}\n}\n","export class Visit {\n    id: string = ''\n    lockGroupNames?: Array<string> = []\n    fromDate: string = ''\n    toDate: string = ''\n    tags: Array<string> = []\n    archetypeIds: Array<string> = []\n}\n\nexport class CreateVisit {\n    lockGroupNames?: Array<string> = []\n    fromDate: string = ''\n    toDate: string = ''\n    tags: Array<string> = []\n    archetypeIds: Array<string> = []\n}\n\nexport interface Archetype {\n    id: string\n    name: string\n    primary: boolean\n    lockGroupNames: Array<string>\n}\n\nexport class Archetypes {\n    primary: Array<Archetype> = []\n    secondary: Array<Archetype> = []\n}","import { observable, action, computed } from 'mobx'\nimport axios from 'axios'\nimport { Store } from './APIStore'\nimport { Visit, CreateVisit, Archetype } from '../models/Visit'\nimport urls from '../constants/urls'\nimport { Tag } from '../models/Tag';\nimport { toSnakeCase, toCamelCase, getErrorCode } from '../utils';\nimport { error } from 'util';\n\nconst sortingFn = (a: Visit, b: Visit) => {\n\tconst first = new Date(a.toDate)\n\tconst last = new Date(b.toDate)\n\tif (first > last) return -1\n\tif (last > first) return 1\n\treturn 0\n}\n\nexport class VisitStore extends Store<Visit> {\n\t@observable protected archetypesObj: {\n\t\tprimary: Array<Archetype>,\n\t\tsecondary: Array<Archetype>\n\t} = {\n\t\t\tprimary: [],\n\t\t\tsecondary: []\n\t\t}\n\n\t@observable protected edit: boolean = false\n\t@observable protected internalValidationError?: string = undefined\n\t@observable protected erroredTag?: string = undefined\n\n\tpublic get editing() {\n\t\treturn this.edit\n\t}\n\n\tpublic get isValidationError() {\n\t\treturn !!this.validationError\n\t}\n\n\t@action\n\tclearErrors = () => {\n\t\tthis.internalValidationError = undefined\n\t\tthis.erroredTag = undefined\n\t}\n\n\tpublic get validationError() {\n\t\treturn this.internalValidationError\n\t}\n\n\t@action\n\ttoggleEditing(editing?: boolean) {\n\t\tif (editing !== undefined) {\n\t\t\tthis.edit = editing\n\t\t} else this.edit = !this.edit\n\t}\n\n\n\tpublic get archetypes() {\n\t\treturn this.archetypesObj\n\t}\n\n\tconstructor() {\n\t\tsuper(urls.visits)\n\t}\n\n\tasync getArchetypes() {\n\t\tconst data = await super.getList(urls.archetypes, undefined)\n\t\tconst primary = data.items.filter((item: Archetype) => item.primary)\n\t\tconst secondary = data.items.filter((item: Archetype) => !item.primary)\n\t\tthis.archetypesObj = { primary, secondary }\n\t}\n\n\tasync save(item: Visit, profileId: string) {\n\t\tlet timeout: any = undefined\n\t\ttry {\n\t\t\tconst url = `${urls.profiles}/${profileId}/visit`\n\t\t\tconst payload = Object.assign(new CreateVisit(), item)\n\t\t\tthis.detail = {}\n\t\t\tconst data = await super.save(payload, undefined , url)\n\t\t\tthis.loading = true\n\t\t\tthis.edit = false\n\t\t\tthis.detail = data\n\t\t\tconst self = this\n\t\t\ttry {\n\t\t\t\tlet pollingResult: any = {}\n\t\t\t\ttimeout = setInterval(async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpollingResult = await axios.get(`${url}/${self.detail.id}/status`)\n\t\t\t\t\t\tif (pollingResult && pollingResult.data.finished) {\n\t\t\t\t\t\t\tif (!pollingResult.data.error) {\n\t\t\t\t\t\t\t\tself.apiEnded()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tself.apiEnded(pollingResult, pollingResult.data.error)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclearInterval(timeout)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (pollingError) {\n\t\t\t\t\t\tthis.apiEnded(pollingError)\n\t\t\t\t\t\tclearInterval(timeout)\n\t\t\t\t\t}\n\t\t\t\t}, 1000)\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tthis.apiEnded(err, 'TEMP MESSAGE - Something has gone wrong with Salto!')\n\t\t\t}\n\t\t}\n\t\tcatch(failsafe){\n\t\t\tclearInterval(timeout)\n\t\t}\n\t}\n\n\tasync addTag(tag: Tag, profileId: string, visitId: string) {\n\t\t// const url = `${urls.profiles}/${profileId}/visit/${visitId}/tag`\n\t\tconst url = `/assign_tag.json`\n\t\ttry {\n\t\t\tthis.loading = true\n\t\t\tlet res: any\n\t\t\t// res = await axios.post(url, toSnakeCase(tag))\n\t\t\tres = await axios.get(url)\n\t\t\tthis.apiEnded()\n\t\t\tconst data = toCamelCase(res.data)\n\t\t\tif (data.success) {\n\t\t\t\tthis.detail.tags = this.detail.tags || []\n\t\t\t\tthis.detail.tags.push(data.tagNumber)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.apiEnded()\n\t\t\t\tthis.erroredTag = data.tagNumber\n\t\t\t\tthis.internalValidationError = getErrorCode(data)\n\t\t\t}\n\t\t\treturn data.success\n\t\t} catch (err) {\n\t\t\tthis.apiEnded(error)\n\t\t\treturn {}\n\t\t}\n\t}\n}","// first party\nimport { ProfileStore } from './Profiles'\nimport { Routing } from './Routing'\nimport { VisitStore } from './Visits'\n\n// re-exports\nexport * from './Profiles'\nexport * from './Routing'\n\nexport interface Stores {\n\tprofiles: ProfileStore\n\trouting: Routing\n\tvisits: VisitStore\n}\n\ntype StoreNamesGuard = keyof Stores\n\nexport class StoreNames {\n\tstatic profiles: StoreNamesGuard = 'profiles'\n\tstatic routing: StoreNamesGuard = 'routing'\n\tstatic visits: StoreNamesGuard = 'visits'\n}\n\nconst localStores: Partial<Stores> = {\n\tprofiles: new ProfileStore(),\n\trouting: new Routing(),\n\tvisits: new VisitStore(),\n}\n\n//test comment\nexport const stores = { ...localStores }\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport { observer, inject } from 'mobx-react'\nimport {Wrapper} from './Components'\nimport { StoreNames, Stores, Routing } from '../../stores';\n\nexport interface ErrorMessageProps {\n\tchildren?: string\n}\nexport interface ErrorMessageConnectedProps extends ErrorMessageProps {\n\trouting: Routing\n}\n@inject(StoreNames.routing)\n@observer\nexport class ErrorMessage extends React.Component<ErrorMessageProps> {\n\tget store(){\n\t\treturn this.props as ErrorMessageConnectedProps\n\t}\n\trender(){\n\t\tconst onClick = ()=> {\n\t\t\tthis.store.routing.goToPage('/')\n\t\t}\n\treturn <Wrapper><h3>Something has gone wrong!</h3>{this.props.children}<br /><br /><Link to=\"/\" onClick={onClick}>Go back to home page</Link></Wrapper>\n\t}\n}\n","import styled from '@emotion/styled'\nimport { variables } from '../../constants/theme'\n\nexport const Wrapper = styled.div`\n    margin-top: ${variables.indentation};\n    font-size: 12px;\n    /* font-weight: bold; */\n\t& svg{\n        vertical-align: sub;\n    }\n`\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport HomeIcon from '@material-ui/icons/Home'\nimport { observer, inject } from 'mobx-react'\nimport {Wrapper} from './Components'\nimport { StoreNames, Routing } from '../../stores'\nimport {toName} from '../../utils'\n\nexport interface BreadcrumbProps {\n}\n\nexport interface BreadcrumbConnectedProps extends BreadcrumbProps {\n\trouting: Routing,\n}\n\n@inject(StoreNames.routing)\n@observer\nexport class Breadcrumb extends React.Component<BreadcrumbProps>{\n\tget store(){\n\t\treturn this.props as BreadcrumbConnectedProps\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.store.routing.resizeBreadcrumb()\n\t}\n\n\trender(){\n\tconst {getBreadcrumb, resizeBreadcrumb} = this.store.routing\n\tconst breadcrumb = getBreadcrumb()\n\treturn breadcrumb.length ?\n\t\t<Wrapper id=\"breadcrumb-wrapper\">\n\t\t\t<Link to={'/'} onClick={()=>resizeBreadcrumb()}>\n\t\t\t\t<HomeIcon/>\n\t\t\t</Link>\n\t\t\t&nbsp;\n\n\t\t\t{breadcrumb.map((item, i) => i === breadcrumb.length -1 ? `/  ${toName(item.page)}` : \n\t\t\t<span key={item.page} id=\"breadcrumb-item\">\n\t\t\t/&nbsp;&nbsp;\n\t\t\t<Link to={`/${item.page}${item.id ? `/${item.id}` : ''}`}>\n\t\t\t\t{toName(item.page)}\n\t\t\t</Link> \n\t\t\t&nbsp;&nbsp;\n\t\t\t</span>\n\t\t\t)}\n\t\t</Wrapper>\n\t\t: null\n\t}\n}","import styled from '@emotion/styled'\nimport { Paper, IconButton } from '@material-ui/core'\n\nimport { variables } from '../../constants/theme'\n\nexport const Wrapper: React.ComponentType<any> = styled(Paper)`\n    margin-top: ${variables.gutter};\n    background-color: ${variables.componentBackgroundClear} !important;\n`\nexport const Header = styled.div`\n    background-color: ${variables.archetypeColor};\n    color: #333;\n    font-size: 1.3rem;\n    height: 25px;\n    padding: ${variables.indentation};\n    display: flex;\n    justify-content: space-between;\n`\n\nexport const Content: React.ComponentType<any> = styled.div`\n    background-color: ${variables.componentBackgroundClear} !important;\n    padding: ${variables.indentation};\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n`\n\nexport const CloseButton: React.ComponentType<any> = styled(IconButton)`\n        padding: 2px !important;\n`\n\nexport const LockGroup: React.ComponentType<any> = styled(Paper)`\n    background-color: ${variables.componentBackground} !important;\n    margin: ${variables.indentation};\n    padding: ${variables.indentation};\n    padding-right: calc(${variables.indentation} + 6px);\n`","import React from 'react'\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { Wrapper, Header, Content, LockGroup, CloseButton } from './Components'\nimport { Archetype } from '../../models/Visit';\n\nexport interface ArchetypeCardProps {\n\tarchetype?: Archetype\n\tremoveItemFn?: Function\n}\n\nexport const ArchetypeCard = (props: ArchetypeCardProps) => {\n\tconst { archetype, removeItemFn } = props\n\treturn archetype ? <Wrapper>\n\t\t<Header>\n\t\t\t<span>{archetype.name}</span>\n\t\t\t{removeItemFn && <CloseButton onClick={(e: any) => removeItemFn!(e, archetype.id)}><CloseIcon /></CloseButton>}\n\t\t</Header>\n\t\t<Content>\n\t\t\t{archetype.lockGroupNames.map(item =>\n\t\t\t\t<LockGroup key={item}>\n\t\t\t\t\t<MeetingRoomIcon /> {item}\n\t\t\t\t</LockGroup>)}\n\t\t</Content>\n\t</Wrapper> : null\n}\n","import styled from '@emotion/styled'\nimport { Paper, IconButton } from '@material-ui/core'\n\nimport { variables } from '../../constants/theme'\n\nexport const Wrapper: React.ComponentType<any> = styled(Paper)`\n    margin-top: ${variables.gutter};\n    background-color: ${variables.componentBackgroundClear} !important;\n`\nexport const Header = styled.div`\n    background-color: ${variables.componentBackground};\n    color: #333;\n    font-size: 1.3rem;\n    height: 25px;\n    padding: ${variables.indentation};\n    display: flex;\n    justify-content: space-between;\n`\n\nexport const Content: React.ComponentType<any> = styled.div`\n    background-color: ${variables.componentBackgroundClear} !important;\n    padding: ${variables.indentation};\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n`\n\nexport const LockGroup: React.ComponentType<any> = styled(Paper)`\n    background-color: ${variables.componentBackground} !important;\n    margin: ${variables.indentation};\n    padding: ${variables.indentation};\n    padding-right: calc(${variables.indentation} + 6px);\n`","import React from 'react'\nimport VpnKeyIcon from '@material-ui/icons/VpnKey'\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom'\nimport { Wrapper, Header, Content, LockGroup } from './Components'\nimport { variables } from '../../constants/theme'\n\nexport interface CardContainerProps {\n\ttype: 'rooms' | 'tags'\n\titems?: Array<string>\n\tremoveItemFn?: Function\n}\n\nexport const CardContainer = (props: CardContainerProps) => {\n\tconst { items, type } = props\n\treturn items ? <Wrapper>\n\t\t<Header style={{ backgroundColor: `${type === 'tags' ? variables.tagColor : variables.roomColor}`}}>\n\t\t\t<span>{type.toUpperCase()}</span>\n\t\t</Header>\n\t\t<Content>\n\t\t\t{items.map(item =>\n\t\t\t\t<LockGroup key={item}>\n\t\t\t\t\t{type === 'tags' ? <VpnKeyIcon /> : <MeetingRoomIcon /> }{item}\n\t\t\t\t</LockGroup>)}\n\t\t</Content>\n\t</Wrapper> : null\n}\n","import styled from '@emotion/styled'\nimport {Paper, TextField} from '@material-ui/core'\n\nimport { variables } from '../../constants/theme'\n\nexport const Wrapper: React.ComponentType<any> = styled(Paper)`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tbackground-color: ${variables.componentBackgroundClear};\n\tpadding: ${variables.gutter};\n`\n\nexport const Title = styled.div`\n\tfont-size: ${variables.headerFontSize};\n\tfont-weight: bold;\n\t/* border-bottom: ${variables.spacer};\n\tline-height: ${variables.lineHeightComponentTitle}; */\n`\n\nexport const Name = styled.div`\n\tfont-size: 2.2rem;\n\tfont-weight: bold;\n`\n\nexport const Field = styled.div`\n\tfont-size: ${variables.headerFontSize};\n\tfont-weight: bold;\n`\n\nexport const FieldsContainer = styled.div`\n\tcolor: ${variables.primaryColor};\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tpadding: ${variables.indentation};\n\tmargin-top: ${variables.gutter};\n\tpadding-top: ${variables.gutter};\n\tpadding-bottom: ${variables.gutter};\n`\n\nexport const ActionsBar = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding: ${variables.gutter};\n\t/* border-bottom: ${variables.spacer}; */\n\tpadding-bottom: ${variables.gutter};\n\tpadding-top: calc(${variables.gutter} * 2);\n\tbackground-color: ${variables.componentBackgroundClear};\n`\nexport const ButtonsContainer = styled.div`\n\t& button {\n\t\tmargin-left: ${variables.indentation};\n\t}\n`\n\nexport const InputContainer: React.ComponentType<any> = styled.div`\n\tdisplay: flex;\n\theight: 3rem;\n\tflex-direction: row;\n`\nexport const NotesInputContainer: React.ComponentType<any> = styled.div`\n\tdisplay: flex;\n\theight: 8rem;\n\tflex-direction: row;\n`\n\nexport const Input: React.ComponentType<any> = styled(TextField)`\n\tmargin-left: 8;\n\tpadding-left: 1rem;\n\tflex: 1;\n`\n\nexport const SingleColumnFieldSet = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 100%;\n\tgrid-row-gap: ${variables.gutter};\n\tpadding-top: ${variables.gutter};\n`\n\nexport const TwoColumnsFieldset = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 49.4% 49.4%;\n\tgrid-column-gap: ${variables.gutter};\n\tgrid-row-gap: ${variables.gutter};\n\tpadding-top: calc(${variables.gutter}*2);\n`\n","import React, { Component } from 'react'\nimport { observer, inject } from 'mobx-react'\nimport PersonIcon from '@material-ui/icons/Person'\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft'\nimport HotelIcon from '@material-ui/icons/Hotel'\nimport EditIcon from '@material-ui/icons/Edit'\nimport SaveIcon from '@material-ui/icons/Save'\nimport Button from '@material-ui/core/Button'\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\nimport { ProfileStore, StoreNames, Routing } from '../../stores'\n\nimport { Boundary } from '../../components'\nimport {\n\tWrapper,\n\tField,\n\tTitle,\n\tFieldsContainer,\n\tActionsBar,\n\tName,\n\tButtonsContainer,\n\tInputContainer,\n\tInput,\n\tSingleColumnFieldSet,\n\tTwoColumnsFieldset,\n\tNotesInputContainer,\n} from './Components'\nimport { Profile } from '../../models/Profile'\nimport { VisitStore } from '../../stores/Visits';\n\nexport interface DetailPanelProps {\n\tcallback: (form: any, addVisit?: boolean) => void\n\t// match?: { params: { profileId: string } }\n}\nexport interface DetailPanelConnectedProps extends DetailPanelProps {\n\tprofiles: ProfileStore\n\trouting: Routing\n\tvisits: VisitStore\n}\n\nexport interface DetailPanelState {\n\tform: Partial<Profile>\n}\n\n@inject(StoreNames.profiles, StoreNames.routing, StoreNames.visits)\n@observer\nexport class DetailPanel extends Component<DetailPanelProps, DetailPanelState> {\n\tget store() {\n\t\treturn this.props as DetailPanelConnectedProps\n\t}\n\tconstructor(props: DetailPanelProps) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tform: { ...this.store.profiles.item },\n\t\t}\n\t}\n\n\tcomponentWillReact() {\n\t\tif (this.store.profiles.isFresh()) {\n\t\t\tthis.setState({ form: { ...this.store.profiles.item } })\n\t\t}\n\t}\n\n\ttoggleEdit = (e: any, clear?: boolean) => {\n\t\te.preventDefault()\n\t\tthis.store.profiles.toggleEditing()\n\t\tthis.setState({ form: clear ? this.store.profiles.item : this.state.form })\n\t}\n\n\tonChange = (e: any) => {\n\t\tconst { target: { name, value } } = e\n\t\tthis.setState({ form: { ...this.state.form, [name]: value } })\n\t}\n\n\tcancelEdit = (e: any) => !this.store.profiles.item.id ? this.store.routing.goToPage('/') : this.toggleEdit(e, true)\n\n\tsaveOrAddVisit = () => {\n\t\tconst { editing, item } = this.store.profiles\n\t\tif (editing) this.props.callback(this.state.form, true)\n\t\telse {\n\t\t\tthis.store.routing.goToPage(`/profile/${this.store.profiles.item.id}/visit/new`)\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { form } = this.state\n\t\tconst { editing, item } = this.store.profiles\n\t\treturn (\n\t\t\t<Boundary>\n\t\t\t\t<Wrapper>\n\t\t\t\t\t<Title><PersonIcon />Profile</Title>\n\t\t\t\t\t{editing ? (\n\t\t\t\t\t\t<ReactCSSTransitionGroup\n\t\t\t\t\t\t\ttransitionName=\"expand\"\n\t\t\t\t\t\t\ttransitionAppear={true}\n\t\t\t\t\t\t\ttransitionAppearTimeout={100}\n\t\t\t\t\t\t\ttransitionEnterTimeout={100}\n\t\t\t\t\t\t\ttransitionLeaveTimeout={100}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TwoColumnsFieldset>\n\t\t\t\t\t\t\t\t<InputContainer elevation={1}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"First Name\"\n\t\t\t\t\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={form.firstName}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t\t\t<InputContainer elevation={1}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Last Name\"\n\t\t\t\t\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={form.lastName}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t\t</TwoColumnsFieldset>\n\t\t\t\t\t\t\t<SingleColumnFieldSet>\n\t\t\t\t\t\t\t\t<InputContainer elevation={1}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Company\"\n\t\t\t\t\t\t\t\t\t\tname=\"company\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={form.company}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t\t\t<InputContainer elevation={1}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Mobile Number\"\n\t\t\t\t\t\t\t\t\t\tname=\"mobileNumber\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={form.mobileNumber}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t\t\t<InputContainer elevation={1}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email Address\"\n\t\t\t\t\t\t\t\t\t\tname=\"emailAddress\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={form.emailAddress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t\t\t<NotesInputContainer elevation={1}>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Notes\"\n\t\t\t\t\t\t\t\t\t\tname=\"notes\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={form.notes}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</NotesInputContainer>\n\t\t\t\t\t\t\t</SingleColumnFieldSet>\n\t\t\t\t\t\t</ReactCSSTransitionGroup>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<FieldsContainer>\n\t\t\t\t\t\t\t\t<ReactCSSTransitionGroup\n\t\t\t\t\t\t\t\t\ttransitionName=\"fade\"\n\t\t\t\t\t\t\t\t\ttransitionAppear={true}\n\t\t\t\t\t\t\t\t\ttransitionAppearTimeout={200}\n\t\t\t\t\t\t\t\t\ttransitionEnterTimeout={200}\n\t\t\t\t\t\t\t\t\ttransitionLeaveTimeout={200}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Name>{`${item.firstName} ${item.lastName}`}</Name>\n\t\t\t\t\t\t\t\t\t<Field key=\"company\">{item.company}</Field>\n\t\t\t\t\t\t\t\t\t<Field key=\"mobileNumber\">{item.mobileNumber}</Field>\n\t\t\t\t\t\t\t\t\t<Field key=\"emailAddress\">{item.emailAddress}</Field>\n\t\t\t\t\t\t\t\t</ReactCSSTransitionGroup>\n\t\t\t\t\t\t\t</FieldsContainer>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t<ActionsBar>\n\t\t\t\t\t\t{editing ? (\n\t\t\t\t\t\t\t<Button className={'cancel-edit-button'} variant=\"contained\" onClick={this.cancelEdit}>\n\t\t\t\t\t\t\t\t<KeyboardArrowLeftIcon />&nbsp;Cancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={() => this.store.routing.goToPage('/')}>\n\t\t\t\t\t\t\t\t\t<KeyboardArrowLeftIcon />&nbsp;Back\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t<ButtonsContainer>\n\t\t\t\t\t\t\t{editing ? (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={'detail-panel-save-button'}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => this.props.callback(this.state.form)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SaveIcon />&nbsp;Save\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName={'detail-panel-edit-button'}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.toggleEdit}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<EditIcon />&nbsp;Edit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={'detail-panel-add-visit-button'}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={this.saveOrAddVisit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<HotelIcon />&nbsp;{editing ? 'Save and add visit' : 'Add Visit'}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonsContainer>\n\t\t\t\t\t</ActionsBar>\n\t\t\t\t</Wrapper>\n\t\t\t</Boundary>\n\t\t)\n\t}\n}\n","import styled from '@emotion/styled'\n\nimport { variables } from '../../constants/theme'\nimport Paper from '@material-ui/core/Paper';\n\nexport const Wrapper = styled.div`\n\tmargin-top: ${variables.gutter};\n\tpadding-top: ${variables.gutter};\n\tdisplay: grid;\n\tgrid-template-columns: 99.4%;\n\tgrid-column-gap: ${variables.gutter};\n\tgrid-row-gap: ${variables.gutter};\n\tbackground-color: ${variables.componentBackgroundClear};\n`\n\nexport const Entry: React.ComponentType<any>  = styled(Paper)`\n\tdisplay: grid;\n\tgrid-template-columns: 80% 18%;\n\tgrid-column-gap: ${variables.gutter};\n\tgrid-row-gap: ${variables.gutter};\n\t/* background-color: ${variables.componentBackground}; */\n`\n\nexport const AccessContainer = styled.div`\n\tbackground-color: ${variables.componentBackground};\n\tpadding: ${variables.gutter};\n`\nexport const DatesContainer = styled.div``\n\nexport const Dates = styled.span`font-weight: bold;`\nexport const Times = styled.span`\n\tfont-weight: inherit;\n\tpadding-left: ${variables.gutter};\n`\n\nexport const Access = styled.div`padding-top: ${variables.indentation};`\nexport const Status = styled.div`\n\tbackground-color: ${variables.componentBackgroundClear};\n\tmargin: auto;\n\tfont-weight: bold;\n\tcolor: #666;\n\tfont-size: 1.3rem;\n`\n","import React, { PureComponent, Fragment } from 'react'\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\n\nimport { Boundary } from '../../components'\nimport { Wrapper, Entry, Dates, Times, Access, DatesContainer, Status, AccessContainer } from './Components'\nimport { Visit } from '../../models/Visit'\n\nexport interface VisitsPanelProps {\n\tvisits?: Array<Visit>\n}\n\nexport class VisitsPanel extends PureComponent<VisitsPanelProps> {\n\tconstructor(props: VisitsPanelProps) {\n\t\tsuper(props)\n\t}\n\n\trender() {\n\t\tconst { visits } = this.props\n\t\treturn (\n\t\t\t<Boundary>\n\t\t\t\t<Wrapper>\n\t\t\t\t\t{visits &&\n\t\t\t\t\t\tvisits.map(visit => (\n\t\t\t\t\t\t\t<ReactCSSTransitionGroup\n\t\t\t\t\t\t\t\tkey={visit.fromDate + visit.toDate}\n\t\t\t\t\t\t\t\ttransitionName=\"expand\"\n\t\t\t\t\t\t\t\ttransitionAppear={true}\n\t\t\t\t\t\t\t\ttransitionAppearTimeout={200}\n\t\t\t\t\t\t\t\ttransitionEnterTimeout={200}\n\t\t\t\t\t\t\t\ttransitionLeaveTimeout={200}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Entry style={{ opacity: new Date(visit.toDate) > new Date() ? 1 : 0.6 }}>\n\t\t\t\t\t\t\t\t\t<AccessContainer>\n\t\t\t\t\t\t\t\t\t\t<DatesContainer>\n\t\t\t\t\t\t\t\t\t\t\t<Dates>\n\t\t\t\t\t\t\t\t\t\t\t\t{`${new Date(visit.fromDate).toLocaleDateString()} - ${new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisit.toDate,\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}`}\n\t\t\t\t\t\t\t\t\t\t\t</Dates>\n\t\t\t\t\t\t\t\t\t\t\t<Times>\n\t\t\t\t\t\t\t\t\t\t\t\t{`${new Date(visit.fromDate).toLocaleTimeString([], {\n\t\t\t\t\t\t\t\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\t\t\t\t\t\t\t\tminute: '2-digit',\n\t\t\t\t\t\t\t\t\t\t\t\t})} - ${new Date(visit.toDate).toLocaleTimeString([], {\n\t\t\t\t\t\t\t\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\t\t\t\t\t\t\t\tminute: '2-digit',\n\t\t\t\t\t\t\t\t\t\t\t\t})}`}\n\t\t\t\t\t\t\t\t\t\t\t</Times>\n\t\t\t\t\t\t\t\t\t\t</DatesContainer>\n\t\t\t\t\t\t\t\t\t\t<Access>\n\t\t\t\t\t\t\t\t\t\t\t{visit.lockGroupNames &&\n\t\t\t\t\t\t\t\t\t\t\t\tvisit.lockGroupNames.length &&\n\t\t\t\t\t\t\t\t\t\t\t\tvisit.lockGroupNames.join(', ')}\n\t\t\t\t\t\t\t\t\t\t</Access>\n\t\t\t\t\t\t\t\t\t</AccessContainer>\n\t\t\t\t\t\t\t\t\t<Status>{new Date(visit.toDate) > new Date() ? 'Active' : 'Inactive'}</Status>\n\t\t\t\t\t\t\t\t</Entry>\n\t\t\t\t\t\t\t</ReactCSSTransitionGroup>\n\t\t\t\t\t\t))}\n\t\t\t\t</Wrapper>\n\t\t\t</Boundary>\n\t\t)\n\t}\n}\n","import styled from '@emotion/styled'\nimport { variables } from '../../constants/theme';\nimport { Paper } from '@material-ui/core';\nimport { Select } from '@material-ui/core';\n\nexport const Wrapper = styled.div`\n\n`\n\nexport const Container: React.ComponentType<any> = styled(Paper)`\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    /* justify-content: space-evenly;\n    padding-top: 3rem;\n    padding-bottom: 4rem; */\n`\n\nexport const TitleField = styled.span`\n    min-width: 200px;\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n    flex-wrap: wrap;\n`\n\nexport const Title = styled.div`\n    font-size: ${variables.headerFontSize};\n    font-weight: bold;\n    padding: ${variables.gutter};\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    justify-content: space-between;\n`\nexport const ProfileName = styled.span`\n    color: ${variables.primaryColor};\n    font-weight: bold;\n    padding-right: ${variables.indentation};\n    /* font-size: 1.5rem; */\n    & svg{\n        vertical-align: sub;\n    }\n`\n\nexport const PickersContainer: React.ComponentType<any> = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    padding-top: 2rem;\n    padding-bottom: 4rem;\n`\n\nexport const DateContainer = styled.div`\n    width: 40%;\n    display: flex;\n    flex-direction: column;\n    & div{\n        margin-top: ${variables.gutter};\n    }\n`\n\nexport const ArchetypesContainer: React.ComponentType<any> = styled.div`\n    padding-top: ${variables.gutter};\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    flex-wrap: wrap;\n    & button{\n        min-width: 150px;\n        margin: ${variables.indentation};\n    }\n`\n\n// export const ArchetypesContainer: React.ComponentType<any> = styled.div`\n//     padding-top: ${variables.gutter};\n//     display: grid;\n//     grid-template-columns: 16% 16% 16% 16% 16% 16%;\n//     flex-direction: row;\n//     justify-content: center;\n//     flex-wrap: wrap;\n//     & button{\n//         width: 95%;\n//         min-width: 150px;\n//         margin: ${variables.indentation};\n//     }\n// `\n\nexport const Dropdown: React.ComponentType<any> = styled(Select)`\n    vertical-align: top;\n    width: 250px;\n    margin: ${variables.indentation};\n`\n\nexport const SelectedArchetypesContainer = styled.div`\n    margin-top: ${variables.gutter};\n`\n\nexport const ActionsBar = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding: ${variables.gutter};\n\t/* border-bottom: ${variables.spacer}; */\n\tpadding-bottom: calc(${variables.gutter} * 2);\n\tpadding-top: calc(${variables.gutter} * 2);\n    margin-top: calc(${variables.gutter} * 2);\n\tbackground-color: ${variables.componentBackgroundClear};\n    border-top: 1px solid ${variables.componentBackground};\n`\nexport const ButtonsContainer = styled.div`\n\t& button {\n\t\tmargin-left: ${variables.indentation};\n\t}\n`","import React, { Component } from 'react'\nimport { observer, inject } from 'mobx-react'\nimport {\n    InlineDatePicker,\n    InlineTimePicker,\n    MuiPickersUtilsProvider,\n} from \"material-ui-pickers\"\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\nimport DateFnsUtils from \"@date-io/moment\"\nimport HotelIcon from '@material-ui/icons/Hotel'\nimport PersonIcon from '@material-ui/icons/Person'\nimport { Button, MenuItem, FormControlLabel } from '@material-ui/core'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft'\nimport VpnKeyIcon from '@material-ui/icons/VpnKey'\nimport SaveIcon from '@material-ui/icons/Save'\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight'\n\nimport { Boundary, ArchetypeCard } from '../../components'\n\nimport {\n    Wrapper,\n    Dropdown,\n    ProfileName,\n    Container,\n    Title,\n    PickersContainer,\n    SelectedArchetypesContainer,\n    DateContainer,\n    TitleField,\n    ArchetypesContainer,\n    ActionsBar,\n    ButtonsContainer\n} from './Components'\n\nimport { StoreNames, ProfileStore, Routing } from '../../stores'\nimport { VisitStore } from '../../stores/Visits'\n\n\nexport interface CreateVisitPanelProps {\n    match?: { params: { profileId: string } }\n    saveFn: Function,\n}\n\nexport interface CreateVisitPanelConnectedProps extends CreateVisitPanelProps {\n    profiles: ProfileStore\n    routing: Routing\n    visits: VisitStore\n}\n\nexport interface CreateVisitPanelState {\n    from: Date\n    to: Date | null\n    selectedArchetypes: Array<string>\n    noEndDate: boolean\n}\n\n@inject(StoreNames.profiles, StoreNames.routing, StoreNames.visits)\n@observer\nexport class CreateVisitPanel extends Component<CreateVisitPanelProps, CreateVisitPanelState> {\n    get store() {\n        return this.props as CreateVisitPanelConnectedProps\n    }\n    constructor(props: CreateVisitPanelProps) {\n        super(props)\n        this.state = {\n            from: new Date(),\n            to: null,\n            selectedArchetypes: [],\n            noEndDate: false\n        }\n    }\n\n    handleDateFromChange = (value: any) => {\n        this.setState({ from: value })\n    }\n\n    handleDateToChange = (value: any) => {\n        this.setState({ to: value })\n    }\n\n    getFutureDate = () => {\n        const today = new Date()\n        return today.setFullYear(today.getFullYear() + 100)\n    }\n\n    removeArchetype = (e: any, id: string) => {\n        if (e) e.preventDefault()\n        const { selectedArchetypes } = this.state\n        this.setState({ selectedArchetypes: selectedArchetypes.filter(item => item !== id) })\n    }\n\n    addArchetype = (e: any, id: string) => {\n        if (e) e.preventDefault()\n        const { selectedArchetypes } = this.state\n        if (!selectedArchetypes.filter(item => item === id).length)\n            this.setState({ selectedArchetypes: [...selectedArchetypes, id] })\n    }\n\n    save = (e?: any, addTags?: boolean) => {\n        const { from, to, selectedArchetypes } = this.state\n        this.props.saveFn({\n            fromDate: from.toISOString(),\n            toDate: to ? to.toISOString() : null,\n            archetypeIds: selectedArchetypes\n        }, addTags)\n    }\n\n    render() {\n        const { archetypes } = this.store.visits\n        const { item: profile } = this.store.profiles\n        const { from, to, selectedArchetypes, noEndDate } = this.state\n        return (\n            <Wrapper>\n                <Container>\n                    <Boundary>\n                        <Title>\n                            <TitleField>\n                                <span>\n                                    <HotelIcon /> Add Visit\n                                </span>\n                                <span><KeyboardArrowRightIcon /></span>\n                                <ProfileName>\n                                    <PersonIcon />{`${profile.firstName} ${profile.lastName}`}\n                                </ProfileName>\n                            </TitleField>\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        className={'no-end-date-checkbox'}\n                                        checked={noEndDate}\n                                        onChange={(e: any) => this.setState({ noEndDate: e.target.checked })}\n                                        value=\"checkedA\"\n                                    />\n                                }\n                                label=\"No End Date\"\n                            />\n                        </Title>\n                    </Boundary>\n                    <Boundary>\n                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                            <ReactCSSTransitionGroup\n                                transitionName=\"fade\"\n                                transitionAppear={true}\n                                transitionAppearTimeout={200}\n                                transitionEnterTimeout={200}\n                                transitionLeaveTimeout={200}\n                            >\n                                <PickersContainer className=\"pickers\">\n                                    <DateContainer>\n                                        <InlineDatePicker\n                                            label=\"Date From\"\n                                            className={'date-from-datepicker'}\n                                            value={from}\n                                            maxDate={to || this.getFutureDate()}\n                                            minDate={new Date()}\n                                            onChange={this.handleDateFromChange} />\n                                        <InlineTimePicker\n                                            className={'date-from-timepicker'}\n                                            minutesStep={15}\n                                            label=\"Time From\"\n                                            value={from}\n                                            onChange={this.handleDateFromChange} />\n                                    </DateContainer>\n                                    {!noEndDate &&\n                                        <DateContainer>\n                                            <InlineDatePicker\n                                                label=\"Date To\"\n                                                className={'date-to-datepicker'}\n                                                value={to}\n                                                minDate={new Date()}\n                                                onChange={this.handleDateToChange} />\n                                            <InlineTimePicker\n                                                minutesStep={15}\n                                                className={'date-to-timepicker'}\n                                                label=\"Time To\"\n                                                value={to}\n                                                onChange={this.handleDateToChange} />\n                                        </DateContainer>\n                                    }\n                                </PickersContainer>\n                            </ReactCSSTransitionGroup>\n                        </MuiPickersUtilsProvider>\n                    </Boundary>\n                </Container>\n                <Boundary>\n                    <ArchetypesContainer>\n                        {archetypes.primary.map(item => <div key={item.id}><Button\n                            className={'archetype-button'}\n                            variant=\"contained\"\n                            color=\"primary\"\n                            disabled={selectedArchetypes.indexOf(item.id) !== -1}\n                            onClick={(e: any) => this.addArchetype(e, item.id)}\n                        > {item.name}</Button></div>)}\n                        <Dropdown\n                            autoWidth\n                            value={'0'}\n                            onChange={(e: any) => this.addArchetype(e, e.target.value)}>\n                            <MenuItem value=\"0\" disabled>\n                                Other Archetypes\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n                            {archetypes.secondary.map(item =>\n                                <MenuItem key={item.id} value={item.id} >{item.name}</MenuItem>\n                            )}\n                        </Dropdown>\n                    </ArchetypesContainer>\n                </Boundary>\n                <Boundary>\n                    <SelectedArchetypesContainer>\n                        <ReactCSSTransitionGroup\n                            transitionName=\"expand\"\n                            transitionAppear={true}\n                            transitionAppearTimeout={200}\n                            transitionEnterTimeout={200}\n                            transitionLeaveTimeout={200}\n                        >\n                            {selectedArchetypes.map(item =>\n                                <ArchetypeCard key={item} removeItemFn={this.removeArchetype} archetype={archetypes.primary.find(entry => entry.id === item) || archetypes.secondary.find(entry => entry.id === item)} />\n                            )}\n                        </ReactCSSTransitionGroup>\n                    </SelectedArchetypesContainer>\n                </Boundary>\n                <Boundary>\n                    <ActionsBar>\n                        <Button variant=\"contained\" onClick={() => this.store.routing.goToPage(`/profile/${this.store.profiles.item.id}`)}>\n                            <KeyboardArrowLeftIcon />&nbsp; Cancel\n\t\t\t\t\t\t</Button>\n                        <ButtonsContainer>\n\n                            <Button\n                                className={'detail-panel-save-button'}\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={this.save}\n                            >\n                                <SaveIcon />&nbsp; Save\n\t\t\t\t\t\t\t</Button>\n                            <Button\n                                className={'detail-panel-add-visit-button'}\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={()=>this.save(null, true)}\n                            >\n                                <VpnKeyIcon />&nbsp; {'Save and manage Tags'}\n                            </Button>\n                        </ButtonsContainer>\n                    </ActionsBar>\n                </Boundary>\n            </Wrapper>\n\n        )\n    }\n}\n","import styled from '@emotion/styled'\nimport { variables } from '../../constants/theme';\nimport { Paper } from '@material-ui/core';\nimport { Select } from '@material-ui/core';\n\nexport const Wrapper = styled.div`\n\n`\n\nexport const Container: React.ComponentType<any> = styled(Paper)`\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    /* justify-content: space-evenly;\n    padding-top: 3rem;\n    padding-bottom: 4rem; */\n`\n\nexport const TitleField = styled.span`\n    min-width: 200px;\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n    flex-wrap: wrap;\n`\n\nexport const Title = styled.div`\n    font-size: ${variables.headerFontSize};\n    font-weight: bold;\n    padding: ${variables.gutter};\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    justify-content: space-between;\n`\nexport const ProfileName = styled.span`\n    color: ${variables.primaryColor};\n    font-weight: bold;\n    padding-right: ${variables.indentation};\n    /* font-size: 1.5rem; */\n    & svg{\n        vertical-align: sub;\n    }\n`\n\nexport const DatesContainer: React.ComponentType<any> = styled.span`\n    width: 70%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding-top: 1rem;\n    padding-bottom: 2rem;\n    font-size: 2rem;\n    margin: auto;\n`\n\nexport const DateContainer = styled.div`\n    width: 40%;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    color: ${variables.visitDateFromColor};\n    & div{\n        margin-top: ${variables.gutter};\n    }\n`\n\nexport const Dropdown: React.ComponentType<any> = styled(Select)`\n    vertical-align: top;\n    width: 250px;\n    margin: ${variables.indentation};\n`\n\nexport const RoomsContainer = styled.div`\n    margin-top: ${variables.gutter};\n`\nexport const TagsContainer = styled.div`\n    margin-top: ${variables.gutter};\n`\nexport const ArchetypesContainer = styled.div`\n    margin-top: ${variables.gutter};\n`\n\nexport const ActionsBar = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding: ${variables.gutter};\n\t/* border-bottom: ${variables.spacer}; */\n\tpadding-bottom: calc(${variables.gutter} * 2);\n\tpadding-top: calc(${variables.gutter} * 2);\n    margin-top: calc(${variables.gutter} * 2);\n\tbackground-color: ${variables.componentBackgroundClear};\n    border-top: 1px solid ${variables.componentBackground};\n`\nexport const ButtonsContainer = styled.div`\n\t& button {\n\t\tmargin-left: ${variables.indentation};\n\t}\n`","import React, { Component } from 'react'\nimport { observer, inject } from 'mobx-react'\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\nimport PersonIcon from '@material-ui/icons/Person'\nimport { Button } from '@material-ui/core'\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft'\nimport VpnKeyIcon from '@material-ui/icons/VpnKey'\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward'\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight'\nimport HotelIcon from '@material-ui/icons/Hotel'\nimport { Boundary, ArchetypeCard, CardContainer } from '../../components'\n\nimport {\n    Wrapper,\n    RoomsContainer,\n    TagsContainer,\n    ProfileName,\n    DatesContainer,\n    Title,\n    Container,\n    DateContainer,\n    TitleField,\n    ArchetypesContainer,\n    ActionsBar,\n    ButtonsContainer\n} from './Components';\n\nimport { StoreNames, ProfileStore, Routing } from '../../stores';\nimport { VisitStore } from '../../stores/Visits';\n\n\nexport interface ViewVisitPanelProps {\n    match?: { params: { profileId: string } }\n}\n\nexport interface ViewVisitPanelConnectedProps extends ViewVisitPanelProps {\n    profiles: ProfileStore\n    routing: Routing\n    visits: VisitStore\n}\n\n@inject(StoreNames.profiles, StoreNames.routing, StoreNames.visits)\n@observer\nexport class ViewVisitPanel extends Component<ViewVisitPanelProps> {\n    get store() {\n        return this.props as ViewVisitPanelConnectedProps\n    }\n    constructor(props: ViewVisitPanelProps) {\n        super(props)\n    }\n\n\n    render() {\n        const { archetypes } = this.store.visits\n        const { item: profile } = this.store.profiles\n        const { item: visit } = this.store.visits\n        const allArchetypes = archetypes.primary.concat(archetypes.secondary)\n        return (\n            <Wrapper>\n                <ReactCSSTransitionGroup\n                    transitionName=\"fade\"\n                    transitionAppear={true}\n                    transitionAppearTimeout={200}\n                    transitionEnterTimeout={200}\n                    transitionLeaveTimeout={200}\n                >\n                    <Container>\n                        <Boundary>\n                            <Title>\n                                <TitleField>\n                                    <span>\n                                        <HotelIcon /> Visit\n                                </span>\n                                    <span><KeyboardArrowRightIcon /></span>\n                                    <ProfileName>\n                                        <PersonIcon />{`${profile.firstName} ${profile.lastName}`}\n                                    </ProfileName>\n                                </TitleField>\n                            </Title>\n                        </Boundary>\n                        <Boundary>\n                            <DatesContainer className=\"pickers\">\n                                <DateContainer>\n                                    {new Date().toDateString()}\n                                </DateContainer>\n                                <span><ArrowForwardIcon style={{ fontSize: '3rem', color: '#8bd08b' }} /></span>\n                                <DateContainer>\n                                    {new Date().toDateString()}\n                                </DateContainer>\n                            </DatesContainer>\n                        </Boundary>\n                    </Container>\n                    {visit.tags &&\n                        <Boundary>\n                            <TagsContainer>\n                                <CardContainer items={visit.tags} type=\"tags\" />\n                            </TagsContainer>\n\n                        </Boundary>\n                    }\n                    <Boundary>\n                        <ArchetypesContainer>\n                            {visit.archetypeIds && allArchetypes.length && allArchetypes.filter(item => visit.archetypeIds.includes(item.id)).map(item =>\n                                <ArchetypeCard key={item.id} archetype={item} />\n                            )}\n                        </ArchetypesContainer>\n                    </Boundary>\n                    {visit.lockGroupNames &&\n                        <Boundary>\n                            <RoomsContainer>\n                                <CardContainer items={visit.lockGroupNames} type=\"rooms\" />\n                            </RoomsContainer>\n                        </Boundary>\n                    }\n                    <Boundary>\n                        <ActionsBar>\n                            <Button variant=\"contained\" onClick={() => this.store.routing.goToPage(`/profile/${this.store.profiles.item.id}`)}>\n                                <KeyboardArrowLeftIcon />&nbsp;Back\n\t\t\t\t\t\t</Button>\n                            <ButtonsContainer>\n\n                                {/* <Button\n                                className={'detail-panel-save-button'}\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={this.save}\n                            >\n                                <SaveIcon />&nbsp;Edit\n\t\t\t\t\t\t\t</Button> */}\n                                <Button\n                                    className={'detail-panel-add-visit-button'}\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={() => this.store.routing.goToPage(`/profile/${this.store.profiles.item.id}/visit/${this.store.visits.item.id}/tag`)}\n                                >\n                                    <VpnKeyIcon />&nbsp;{'Manage Tags'}\n                                </Button>\n                            </ButtonsContainer>\n                        </ActionsBar>\n                    </Boundary>\n                </ReactCSSTransitionGroup>\n            </Wrapper>\n\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { observer, inject } from 'mobx-react'\nimport { isEmpty } from 'lodash'\nimport Loader from 'react-loader'\n\nimport { Layout, ErrorMessage } from '../../components'\nimport { DetailPanel, VisitsPanel } from '../../containers'\nimport { ProfileStore, StoreNames, Routing } from '../../stores'\nimport { Profile } from '../../models/Profile'\nimport { VisitStore } from '../../stores/Visits';\n\nexport interface ProfileDetailProps {\n\tmatch: {params: {profileId: string}}\n}\n\ninterface ProfileDetailConnectedProps extends ProfileDetailProps {\n\tprofiles: ProfileStore\n\trouting:  Routing\n\tvisits: VisitStore\n}\n\nexport interface ProfileDetailState {\n\tdata: Partial<Profile>\n}\n\n@inject(StoreNames.profiles, StoreNames.routing, StoreNames.visits)\n@observer\nexport class ProfileDetail extends Component<ProfileDetailProps, ProfileDetailState> {\n\tget store(){\n\t\treturn this.props as ProfileDetailConnectedProps\n\t}\n\tconstructor(props: ProfileDetailProps) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdata: {},\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.store.profiles.getDetail(this.props.match.params.profileId)\n\t\tif(this.props.match.params.profileId === 'new'){\n\t\t\tthis.store.profiles.toggleEditing(true)\t\n\t\t}\n\t}\n\n\tsave = async (data: Profile, addVisits?: boolean) => {\n\t\tawait this.store.profiles.save(data, data.id)\n\t\tif (!isEmpty(this.store.profiles.item)) {\n\t\t\tif (addVisits) {\n\t\t\t\tthis.store.visits.toggleEditing(true)\n\t\t\t\tthis.store.routing.goToPage(`/profile/${this.store.profiles.item.id}/visit/new`)\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\t// debugger\n\t\tif(!this.props.match.params.profileId){\n\t\t\tthis.store.routing.goToPage('/')\n\t\t}\n\t\tconst { isError, isLoading, errorMessage, item } = this.store.profiles\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t{!isError ? (\n\t\t\t\t\t<Loader loaded={!isLoading}>\n\t\t\t\t\t\t<DetailPanel callback={this.save} />\n\t\t\t\t\t\t<VisitsPanel visits={item.visits} />\n\t\t\t\t\t</Loader>\n\t\t\t\t) : (\n\t\t\t\t\t<ErrorMessage>{errorMessage}</ErrorMessage>\n\t\t\t\t)}\n\t\t\t</Layout>\n\t\t)\n\t}\n}\n","import styled from '@emotion/styled'\nimport IconButton from '@material-ui/core/IconButton'\nimport { variables } from '../../constants/theme'\n\nexport const ActionBar = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tpadding-top: ${variables.gutter};\n\tjustify-content: space-between;\n`\nexport const SearchWrapper = styled.div`\n\twidth: 84%;\n\tpadding-left: ${variables.gutter};\n`\nexport const Action: React.ComponentType<any> = styled.div`\n\tmargin: auto !important;\n\tpadding-top: 2px !important;\n`\n\nexport const ActionIcon: React.ComponentType<any> = styled(IconButton)`\n\tmargin: auto !important;\n\tpadding-top: 2px !important;\n`\n\nexport const Title = styled.div`\n\tpadding-left: ${variables.gutter};\n\tfont-size: ${variables.headerFontSize};\n\tfont-weight: bold;\n\tmargin-top: ${variables.gutter};\n`\n","import React, { Component, Fragment } from 'react'\nimport { observer, inject } from 'mobx-react'\n\nimport AddIcon from '@material-ui/icons/Add'\nimport EditIcon from '@material-ui/icons/Edit'\nimport Button from '@material-ui/core/Button'\nimport Loader from 'react-loader'\n\nimport { Layout, Grid, Search, ErrorMessage } from '../../components/'\nimport { ProfileStore, StoreNames, Stores } from '../../stores'\nimport { ActionBar, Action, SearchWrapper, Title, ActionIcon } from './Components'\nimport { Routing } from '../../stores/Routing'\n\n// internal props\nexport interface ProfilesProps {}\n// MobX props\ninterface ProfilesConnectedProps extends ProfilesProps {\n\tprofiles: ProfileStore\n\trouting: Routing\n}\n// intersection of all props\n\n@inject(StoreNames.profiles, StoreNames.routing)\n@observer\nexport class Profiles extends Component<ProfilesProps> {\n\tget store(){\n\t\treturn this.props as ProfilesConnectedProps\n\t}\n\tcolDef = [\n\t\t{\n\t\t\theaderName: 'Name',\n\t\t\tfield: 'fullName',\n\t\t\tminWidth: 70,\n\t\t},\n\t\t{\n\t\t\theaderName: 'Type',\n\t\t\twidth: 70,\n\t\t\tfield: 'type',\n\t\t},\n\t\t{\n\t\t\theaderName: 'Created',\n\t\t\tminWidth: 110,\n\t\t\twidth: 120,\n\t\t\tfield: 'created',\n\t\t\tcellRenderer: (row: any) => new Date(row.value).toLocaleDateString(),\n\t\t},\n\t\t{\n\t\t\theaderName: 'Email',\n\t\t\tminWidth: 250,\n\t\t\tfield: 'emailAddress',\n\t\t},\n\t\t{\n\t\t\theaderName: 'Phone',\n\t\t\tminWidth: 120,\n\t\t\tfield: 'mobileNumber',\n\t\t},\n\t\t{\n\t\t\theaderName: 'Company',\n\t\t\tminWidth: 70,\n\t\t\tfield: 'company',\n\t\t},\n\t\t{\n\t\t\theaderName: 'Notes',\n\t\t\tminWidth: 70,\n\t\t\tfield: 'notes',\n\t\t},\n\t\t{\n\t\t\theaderName: 'Visits',\n\t\t\twidth: 90,\n\t\t\tminWidth: 90,\n\t\t\tfield: 'visits',\n\t\t\tcellRenderer: (row: any) => row.value.length,\n\t\t},\n\t\t// {\n\t\t// \theaderName: 'Actions',\n\t\t// \twidth: 70,\n\t\t// \tfield: 'id',\n\t\t// \tcellRendererFramework: (row: any) => (\n\t\t// \t\t<ActionIcon\n\t\t// \t\t\taria-label=\"Edit Profile\"\n\t\t// \t\t\ttitle=\"Edit Profile\"\n\t\t// \t\t\tonClick={() => this.goToDetail(row.value, true)}\n\t\t// \t\t>\n\t\t// \t\t\t<EditIcon data-title=\"Edit Profile\" />\n\t\t// \t\t</ActionIcon>\n\t\t// \t),\n\t\t// },\n\t]\n\tconstructor(props: ProfilesProps) {\n\t\tsuper(props)\n\t}\n\tcomponentDidMount() {\n\t\tthis.store.profiles.getList()\n\t}\n\n\tgoToDetail = (id: string, edit?: boolean) => {\n\t\t// TODO define row type\n\t\tthis.store.profiles.toggleEditing(edit)\n\t\tthis.store.routing.goToPage(`/profile/${id}`)\n\t}\n\n\tonChange = (e: any, val?: string) => {\n\t\tconst { target: { value } } = e\n\t\tthis.store.profiles.getList(val || value)\n\t}\n\n\trender() {\n\t\t// const data = this.store.profiles.getItems()\n\t\tconst { isLoading, isError, errorMessage, items } = this.store.profiles\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t<Title>Profiles</Title>\n\t\t\t\t{isError ? (\n\t\t\t\t\t<ErrorMessage>{errorMessage}</ErrorMessage>\n\t\t\t\t) : (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<ActionBar>\n\t\t\t\t\t\t\t<SearchWrapper>\n\t\t\t\t\t\t\t\t<Search onChange={this.onChange} />\n\t\t\t\t\t\t\t</SearchWrapper>\n\t\t\t\t\t\t\t<Action\n\t\t\t\t\t\t\t\taria-label=\"Add Profile\"\n\t\t\t\t\t\t\t\ttitle=\"Add Profile\"\n\t\t\t\t\t\t\t\tonClick={() => this.goToDetail('new', true)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\">\n\t\t\t\t\t\t\t\t\t<AddIcon />&nbsp;Add Profile\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t</ActionBar>\n\t\t\t\t\t\t<Loader loaded={!isLoading}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tloading={isLoading}\n\t\t\t\t\t\t\t\tcolumnDefs={this.colDef}\n\t\t\t\t\t\t\t\trowData={isLoading ? [] : items}\n\t\t\t\t\t\t\t\tonRowClicked={row => this.goToDetail(row.data.id, false)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Loader>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t</Layout>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react'\nimport { observer, inject } from 'mobx-react'\nimport Loader from 'react-loader'\n\n\nimport { Layout, ErrorMessage, Boundary } from '../../components'\nimport { ProfileStore, StoreNames, Routing } from '../../stores'\nimport { Visit } from '../../models/Visit'\nimport { VisitStore } from '../../stores/Visits';\nimport { CreateVisitPanel, ViewVisitPanel } from '../../containers'\nimport { isEmpty } from 'lodash';\n\nexport interface VisitDetailProps {\n\tmatch: {\n\t\tparams: {\n\t\t\tprofileId: string\n\t\t\tvisitId: string\n\t\t}\n\t}\n}\n\nexport interface VisitDetailConnectedProps extends VisitDetailProps {\n\tprofiles: ProfileStore\n\trouting: Routing\n\tvisits: VisitStore\n}\n\nexport interface VisitState {\n\tdateFrom: Date\n\tdateTo: Date | null\n\tselectedArchetypes: Array<string>\n\tnoEndDate: boolean\n}\n\n@inject(StoreNames.profiles, StoreNames.routing, StoreNames.visits)\n@observer\nexport class VisitDetail extends Component<VisitDetailProps, VisitState> {\n\tget store() {\n\t\treturn this.props as VisitDetailConnectedProps\n\t}\n\tconstructor(props: VisitDetailProps) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdateFrom: new Date(),\n\t\t\tdateTo: null,\n\t\t\tselectedArchetypes: [],\n\t\t\tnoEndDate: false\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (!this.store.profiles.item.id) {\n\t\t\tthis.store.profiles.getDetail(this.props.match.params.profileId)\n\t\t}\n\t\tif (this.props.match.params.visitId === 'new') {\n\t\t\tthis.store.visits.toggleEditing(true)\n\t\t}\n\t\tthis.store.visits.getArchetypes()\n\t}\n\n\tsave = async (data: Visit, addTags?: boolean) => {\n\t\tawait this.store.visits.save(data, this.props.match.params.profileId)\n\t\tif (!isEmpty(this.store.visits.item)) {\n\t\t\tif (addTags) {\n\t\t\t\t// this.store.visits.toggleEditing(true)\n\t\t\t\tthis.store.routing.goToPage(`/profile/${this.store.profiles.item.id}/visit/${this.store.visits.item.id}/tag`)\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { isError, isLoading, errorMessage, editing } = this.store.visits\n\t\tif (isError) return <ErrorMessage>{errorMessage}</ErrorMessage>\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t<Boundary>\n\t\t\t\t\t<Loader loaded={!isLoading}>\n\t\t\t\t\t\t{editing ?\n\t\t\t\t\t\t\t<CreateVisitPanel saveFn={this.save} />\n\t\t\t\t\t\t\t: <ViewVisitPanel />\n\t\t\t\t\t\t}\n\t\t\t\t\t</Loader>\n\t\t\t\t</Boundary>\n\t\t\t</Layout >\n\t\t)\n\t}\n}\n","import styled from '@emotion/styled'\nimport { variables } from '../../constants/theme';\nimport Paper from '@material-ui/core/Paper'\nimport InputBase from '@material-ui/core/InputBase'\nimport IconButton from '@material-ui/core/IconButton'\nimport TextField from '@material-ui/core/TextField'\n\nexport const Wrapper = styled.div`\n\n`\n\nexport const Container: React.ComponentType<any> = styled(Paper)`\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    /* justify-content: space-evenly;\n    padding-top: 3rem;\n    padding-bottom: 4rem; */\n`\n\nexport const TitleField = styled.span`\n    min-width: 200px;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    flex-wrap: wrap;\n`\n\nexport const Title = styled.div`\n    font-size: ${variables.headerFontSize};\n    font-weight: bold;\n    padding: ${variables.gutter};\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    justify-content: space-between;\n`\nexport const ProfileName = styled.span`\n    color: ${variables.primaryColor};\n    font-weight: bold;\n    padding-right: ${variables.indentation};\n    /* font-size: 1.5rem; */\n    & svg{\n        vertical-align: sub;\n    }\n`\n\nexport const AddTagContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    margin: calc(${variables.gutter} * 2);\n`\n\n\nexport const InputContainer: React.ComponentType<any> = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n    width: 60%;\n    min-width: 300px;\n`\n\nexport const Input: React.ComponentType<any> = styled(TextField)`\n    margin-left: 8;\n    padding-left: 1rem; \n\tflex: 1;\n`\n\nexport const Action: React.ComponentType<any> = styled(IconButton)`padding: 10;`\n\nexport const ActionsBar = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-end;\n\tpadding: ${variables.gutter};\n\t/* border-bottom: ${variables.spacer}; */\n\tpadding-bottom: calc(${variables.gutter} * 2);\n\tpadding-top: calc(${variables.gutter} * 2);\n    margin-top: calc(${variables.gutter} * 2);\n\tbackground-color: ${variables.componentBackgroundClear};\n    border-top: 1px solid ${variables.componentBackground};\n`\nexport const ButtonsContainer = styled.div`\n\t& button {\n\t\tmargin-left: ${variables.indentation};\n\t}\n`\n\nexport const VisitDateFrom = styled.span`\n    color: ${variables.visitDateFromColor};\n    font-style: italic;\n`\n\nexport const VisitDateTo = styled.span`\n    color: ${variables.visitDateToColor};\n    font-style: italic;\n`\n","export class Tag{\n    tagNumber: string | null = null\n\n    constructor(tag?: string){\n        this.tagNumber = tag || null\n    }\n}","import React, { Component } from 'react'\nimport { observer, inject } from 'mobx-react'\n\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\nimport PersonIcon from '@material-ui/icons/Person'\nimport { Button, TextField } from '@material-ui/core'\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft'\nimport VpnKeyIcon from '@material-ui/icons/VpnKey'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight'\nimport HotelIcon from '@material-ui/icons/Hotel'\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward'\nimport CloseIcon from '@material-ui/icons/Close'\nimport AddIcon from '@material-ui/icons/Add'\n\nimport { Boundary, CardContainer } from '../../components'\n\nimport {\n    Wrapper,\n    TitleField,\n    ProfileName,\n    Container,\n    Title,\n    Action,\n    ActionsBar,\n    ButtonsContainer,\n    InputContainer,\n    Input,\n    AddTagContainer,\n    VisitDateFrom,\n    VisitDateTo\n} from './Components'\n\nimport { StoreNames, ProfileStore, Routing } from '../../stores'\nimport { VisitStore } from '../../stores/Visits'\nimport { Tag } from '../../models/Tag';\nimport { TagsContainer } from '../ViewVisitPanel/Components';\n\n\nexport interface ManageTagsPanelProps {\n    addTag: Function\n}\n\nexport interface ManageTagsPanelConnectedProps extends ManageTagsPanelProps {\n    profiles: ProfileStore\n    routing: Routing\n    visits: VisitStore\n}\n\nexport interface ManageTagsPanelState {\n    currentTag?: string\n    validation: {currentTag?: string}\n}\n\n@inject(StoreNames.profiles, StoreNames.routing, StoreNames.visits)\n@observer\nexport class ManageTagsPanel extends Component<ManageTagsPanelProps, ManageTagsPanelState> {\n    get store() {\n        return this.props as ManageTagsPanelConnectedProps\n    }\n    constructor(props: ManageTagsPanelProps) {\n        super(props)\n        this.state = {\n            currentTag: undefined,\n            validation: {currentTag: undefined}\n        }\n    }\n\n    done = () => {\n        this.store.routing.goToPage(`/profile/${this.store.profiles.item.id}`)\n    }\n\n    addTag = () => {\n        const { currentTag } = this.state\n        if (currentTag && currentTag.length === 6) {\n            const tag = new Tag(currentTag)\n            this.props.addTag(tag)\n        }\n        else{\n            this.setState({validation: {currentTag: 'Please insert a 6 digit Tag number'}})\n        }\n    }\n\n    handleChange = (e: any) => {\n        if (e) e.preventDefault()\n        this.setState({ currentTag: e.target.value, validation: {currentTag: undefined} }, ()=>this.store.visits.clearErrors())\n    }\n\n    clearSelection = () => {\n        this.setState({ currentTag: undefined, validation: {currentTag: undefined} }, ()=>this.store.visits.clearErrors())\n    }\n\n    render() {\n        const { item: visit, isValidationError, validationError } = this.store.visits\n        const { item: profile } = this.store.profiles\n        const { currentTag, validation } = this.state\n        return (\n            <Wrapper>\n                <Container>\n                    <Boundary>\n                        <Title>\n                            <TitleField>\n                                <ProfileName>\n                                    <PersonIcon />{`${profile.firstName} ${profile.lastName}`}\n                                </ProfileName>\n                                <span><KeyboardArrowRightIcon /></span>\n                                <span>\n                                    <HotelIcon /> Visit &nbsp;\n                                </span>\n                                <VisitDateFrom>{new Date(visit.fromDate).toLocaleString()}</VisitDateFrom>\n                                <span><ArrowForwardIcon /></span>\n                                <VisitDateTo>{new Date(visit.toDate).toLocaleString()}</VisitDateTo>\n                                <span><KeyboardArrowRightIcon /></span>\n                                <span>\n                                    <VpnKeyIcon /> Manage Tags\n                                </span>\n                            </TitleField>\n                        </Title>\n                    </Boundary>\n                    <Boundary>\n                        <AddTagContainer>\n                            <InputContainer elevation={1}>\n                                {currentTag && (\n                                    <Action id=\"add-tag-input-clear\" aria-label=\"Clear\" onClick={this.clearSelection} title=\"Clear Search\">\n                                        <CloseIcon />\n                                    </Action>\n                                )}\n                                <Input\n                                    id=\"add-tag-input-field\"\n                                    name=\"add-tag-input-field\"\n                                    placeholder={'Add a Tag number'}\n                                    onChange={this.handleChange}\n                                    value={currentTag || ''}\n                                    type=\"number\"\n                                    error={validation.currentTag || isValidationError}\n                                    helperText={validation.currentTag || validationError}\n                                />\n\n                                <Action id=\"add-tag-input-button\" aria-label=\"Search\" onClick={this.addTag} title=\"Search\">\n                                    <AddIcon />\n                                </Action>\n                            </InputContainer>\n                        </AddTagContainer>\n                    </Boundary>\n                </Container>\n                {visit.tags && visit.tags.length ? \n                    <Boundary>\n                        <TagsContainer>\n                            <CardContainer items={visit.tags} type=\"tags\" />\n                        </TagsContainer>\n                    </Boundary>\n                    : null\n                }\n                <Boundary>\n                    <ActionsBar>\n                        {/* <Button variant=\"contained\" onClick={() => this.store.routing.goToPage(`/profile/${this.store.profiles.item.id}`)}>\n                            <KeyboardArrowLeftIcon />&nbsp; Cancel\n\t\t\t\t\t\t</Button> */}\n                        <ButtonsContainer>\n\n                            <Button\n                                className={'manage-tags-panel-save-button'}\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={this.done}\n                            >\n                                <CheckCircleIcon />&nbsp; Done\n\t\t\t\t\t\t\t</Button>\n                        </ButtonsContainer>\n                    </ActionsBar>\n                </Boundary>\n            </Wrapper>\n\n        )\n    }\n}\n","import React from 'react'\nimport Loader from 'react-loader'\nimport { ProfileStore } from '../../stores/Profiles'\nimport { Routing, StoreNames } from '../../stores'\nimport { VisitStore } from '../../stores/Visits'\nimport { inject, observer } from 'mobx-react'\nimport { Tag } from '../../models/Tag'\n\nimport { ManageTagsPanel } from '../../containers/ManageTagsPanel'\nimport { Layout, Boundary, ErrorMessage } from '../../components'\n\nexport interface ManageTagsProps {\n    match: {\n        params: {\n            profileId: string\n            visitId: string\n        }\n    }\n}\n\nexport interface ManageTagsConnectedProps extends ManageTagsProps {\n    profiles: ProfileStore\n    routing: Routing\n    visits: VisitStore\n}\n@inject(StoreNames.profiles, StoreNames.routing, StoreNames.visits)\n@observer\nexport class ManageTags extends React.Component<ManageTagsProps> {\n    get store() {\n        return this.props as ManageTagsConnectedProps\n    }\n    lastUsedTag?: string = undefined\n    constructor(props: ManageTagsProps) {\n        super(props)\n    }\n\n    componentDidMount() {\n        if (!this.store.profiles.item.id) {\n            this.store.profiles.getDetail(this.props.match.params.profileId)\n        }\n        // if (!this.store.visits.item.id) {\n        //     this.store.visits.getDetail(this.props.match.params.visitId)\n        // }\n    }\n\n    save = async (data: Tag) => {\n        await this.store.visits.addTag(data, this.props.match.params.profileId, this.props.match.params.visitId)\n    }\n    \n    addTag = async (tag: Tag)=>{\n        await this.store.visits.addTag(tag, this.store.profiles.item.id!, this.store.visits.item.id)\n    }\n\n    render() {\n        const { isError, isLoading, errorMessage } = this.store.visits\n        if (isError) return <ErrorMessage>{errorMessage}</ErrorMessage>\n        return (\n            <Layout>\n                <Boundary>\n                    <Loader loaded={!isLoading}>\n                        <ManageTagsPanel addTag={this.addTag}/>\n                    </Loader>\n                </Boundary>\n            </Layout>\n        )\n    }\n}","import React, { Component, Fragment } from 'react'\nimport { Router, Route, Link } from 'react-router-dom'\nimport { createBrowserHistory, History } from 'history'\nimport { Provider } from 'mobx-react'\nimport { syncHistoryWithStore } from 'mobx-react-router'\n\n\nimport { Profiles, ProfileDetail, VisitDetail, ManageTags } from './routes'\nimport { stores } from './stores'\n\nclass App extends Component {\n\tbrowserHistory: History\n\tmobxSyncedHistory: any\n\tconstructor(props: any) {\n\t\tsuper(props)\n\t\tthis.browserHistory = createBrowserHistory()\n\t\tthis.mobxSyncedHistory = syncHistoryWithStore(this.browserHistory, stores.routing!)\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Provider {...stores}>\n\t\t\t\t<Router history={this.mobxSyncedHistory}>\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<Route path=\"/\" exact component={Profiles} />\n\t\t\t\t\t\t<Route path=\"/profile/:profileId?\" exact component={ProfileDetail} />\n\t\t\t\t\t\t<Route path=\"/profile/:profileId/visit/:visitId?\" exact component={VisitDetail} />\n\t\t\t\t\t\t<Route path=\"/profile/:profileId/visit/:visitId/tag\" exact component={ManageTags} />\n\t\t\t\t\t</Fragment>\n\t\t\t\t</Router>\n\t\t\t</Provider>\n\t\t)\n\t}\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}